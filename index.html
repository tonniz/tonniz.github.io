<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta name="generator" content="Hugo 0.81.0" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="uni-app 使用vue的语法&#43;小程序的标签和API。
开发规范#为了实现多端兼容，综合考虑编译速度、运行性能等因素，uni-app 约定了如下开发规范：
 页面文件遵循 Vue 单文件组件 (SFC) 规范 组件标签靠近小程序规范，详见uni-app 组件规范 接口能力（JS API）靠近微信小程序规范，但需将前缀 wx 替换为 uni，详见uni-app接口规范 数据绑定及事件处理同 Vue.js 规范，同时补充了App及页面的生命周期 为兼容多端运行，建议使用flex布局进行开发  目录结构#一个uni-app工程，默认包含如下目录及文件：
┌─cloudfunctions 云函数目录（阿里云为aliyun，腾讯云为tcb，详见uniCloud）│─components 符合vue组件规范的uni-app组件目录│ └─comp-a.vue 可复用的a组件├─hybrid 存放本地网页的目录，详见├─platforms 存放各平台专用页面的目录，详见├─pages 业务页面文件存放的目录│ ├─index│ │ └─index.vue index页面│ └─list│ └─list.vue list页面├─static 存放应用引用静态资源（如图片、视频等）的目录，注意：静态资源只能存放于此├─wxcomponents 存放小程序组件的目录，详见├─main.js Vue初始化入口文件├─App.vue 应用配置，用来配置App全局样式以及监听 应用生命周期├─manifest.json 配置应用名称、appid、logo、版本等打包信息，详见└─pages.json 配置页面路由、导航条、选项卡等页面类信息，详见Tips
 编译到任意平台时，static 目录下的文件均会被打包进去，非 static 目录下的文件（vue、js、css 等）被引用到才会被包含进去。 static 目录下的 js 文件不会被编译，如果里面有 es6 的代码，不经过转换直接运行，在手机设备上会报错。 css、less/scss 等资源同样不要放在 static 目录下，建议这些公用的资源放在 common 目录下。 HbuilderX 1.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://tonniz.github.io/" />

<title> | MR MiniApp</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.533dbfa5b0e2c4a6fe8738900d3c5955aad26f9887c7fb49f2dae751e59fe52d.css" integrity="sha256-Uz2/pbDixKb&#43;hziQDTxZVarSb5iHx/tJ8trnUeWf5S0=">
<script defer src="/en.search.min.b237d94f9fec45f558cbef99947a79bfa8ed0bd46d4e1b2d51983d708e9c10ba.js" integrity="sha256-sjfZT5/sRfVYy&#43;&#43;ZlHp5v6jtC9RtThstUZg9cI6cELo="></script>
<link rel="alternate" type="application/rss+xml" href="http://tonniz.github.io/index.xml" title="MR MiniApp" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>MR MiniApp</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>api</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4022b02b2db2e74ebad1e167f09570b4" class="toggle"  />
    <label for="section-4022b02b2db2e74ebad1e167f09570b4" class="flex justify-between">
      <a  class="">basic</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%9F%BA%E7%A1%80/%E5%AE%9A%E6%97%B6%E5%99%A8/timer/" class="">Timer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%9F%BA%E7%A1%80/%E5%BA%94%E7%94%A8%E7%BA%A7%E4%BA%8B%E4%BB%B6/application/" class="">Application</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%9F%BA%E7%A1%80/%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0/log/" class="">Log</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%9F%BA%E7%A1%80/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/lifecycle/" class="">Lifecycle</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9f38acd593e541b6ade3bb0fc2f3f3d1" class="toggle"  />
    <label for="section-9f38acd593e541b6ade3bb0fc2f3f3d1" class="flex justify-between">
      <a  class="">equipment</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/accelerometer/accelerometer/" class="">Accelerometer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/barcode/barcode/" class="">Barcode</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/batteryinfo/batteryinfo/" class="">Battery Info</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/ble/ble/" class="">Ble</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/bluetooth/bluetooth/" class="">Bluetooth</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/brightness/brightness/" class="">Brightness</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/clipboard/clipboard/" class="">Clipboard</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/compass/compass/" class="">Compass</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/contact/contact/" class="">Contact</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/ibeacon/ibeacon/" class="">Ibeacon</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/newwork/network/" class="">Network</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/nfc/nfc/" class="">Nfc</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/phone/phone/" class="">Phone</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/systeminfo/info/" class="">Info</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/systemtheme/theme/" class="">Theme</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%AE%BE%E5%A4%87/wi-fi/wifi/" class="">Wifi</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b515129697bc5e2772a39bfb84ec20d7" class="toggle"  />
    <label for="section-b515129697bc5e2772a39bfb84ec20d7" class="flex justify-between">
      <a  class="">file</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E6%96%87%E4%BB%B6/file/" class="">File</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9c01ff340d57d663f197e2a64574311a" class="toggle"  />
    <label for="section-9c01ff340d57d663f197e2a64574311a" class="flex justify-between">
      <a  class="">keyboard</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E9%94%AE%E7%9B%98/key/" class="">Key</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b13a9910074d19666a6097979f2f91fd" class="toggle"  />
    <label for="section-b13a9910074d19666a6097979f2f91fd" class="flex justify-between">
      <a  class="">location</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E4%BD%8D%E7%BD%AE/%E5%9C%B0%E5%9B%BE%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/map/" class="">Map</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E4%BD%8D%E7%BD%AE/%E6%9F%A5%E7%9C%8B%E4%BD%8D%E7%BD%AE/open-location/" class="">Open Location</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E4%BD%8D%E7%BD%AE/%E8%8E%B7%E5%8F%96%E4%BD%8D%E7%BD%AE/location/" class="">Location</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ee929375efadada16220c4322cfcd126" class="toggle"  />
    <label for="section-ee929375efadada16220c4322cfcd126" class="flex justify-between">
      <a  class="">media</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E5%9B%BE%E7%89%87/image/" class="">Image</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E5%AF%8C%E6%96%87%E6%9C%AC/editor-context/" class="">Editor Context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E5%BD%95%E9%9F%B3%E7%AE%A1%E7%90%86/record-manager/" class="">Record Manager</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E6%96%87%E4%BB%B6/file/" class="">File</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E7%9B%B4%E6%92%AD%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/live-player-context/" class="">Live Player Context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E7%9B%B8%E6%9C%BA%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/camera-context/" class="">Camera Context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E8%83%8C%E6%99%AF%E9%9F%B3%E9%A2%91%E6%92%AD%E6%94%BE%E7%AE%A1%E7%90%86/background-audio-manager/" class="">Background Audio Manager</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E8%A7%86%E9%A2%91/video/" class="">Video</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E8%A7%86%E9%A2%91%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/video-context/" class="">Video Context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%90%88%E6%88%90/media-container/" class="">Media Container</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E5%AA%92%E4%BD%93/%E9%9F%B3%E9%A2%91%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/audio-context/" class="">Audio Context</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-56447ee843f6a25e728631087c343d54" class="toggle"  />
    <label for="section-56447ee843f6a25e728631087c343d54" class="flex justify-between">
      <a  class="">network</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%BD%91%E7%BB%9C/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/network-file/" class="">Network File</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%BD%91%E7%BB%9C/%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82/request/" class="">Request</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-dda0c1f8b541fdb05aba4ff8986a42de" class="toggle"  />
    <label for="section-dda0c1f8b541fdb05aba4ff8986a42de" class="flex justify-between">
      <a  class="">router</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC/router/" class="">Router</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7c25429eaae0759bbb274c795f3ebe70" class="toggle"  />
    <label for="section-7c25429eaae0759bbb274c795f3ebe70" class="flex justify-between">
      <a  class="">storage</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E6%95%B0%E6%8D%AE%E7%BC%93%E5%AD%98/storage/" class="">Storage</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d22b47d69d5bf3fad5b3a81accb75d7a" class="toggle"  />
    <label for="section-d22b47d69d5bf3fad5b3a81accb75d7a" class="flex justify-between">
      <a  class="">UI</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0/pulldown/" class="">Pulldown</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E4%BA%A4%E4%BA%92%E5%8F%8D%E9%A6%88/prompt/" class="">Prompt</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E5%8A%A8%E7%94%BB/animation/" class="">Animation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2/media-query-observer/" class="">Media Query Observer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E5%AD%97%E4%BD%93/font/" class="">Font</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E6%BB%9A%E5%8A%A8/scroll/" class="">Scroll</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E7%AA%97%E5%8F%A3/window/" class="">Window</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E8%83%8C%E6%99%AF/bgcolor/" class="">Bgcolor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/nexttick/" class="">Next Tick</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF/nodes-info/" class="">Nodes Info</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E8%8A%82%E7%82%B9%E5%B8%83%E5%B1%80%E7%9B%B8%E4%BA%A4%E7%8A%B6%E6%80%81/intersection-observer/" class="">Intersection Observer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E8%AE%BE%E7%BD%AEtabbar/tabbar/" class="">Tabbar</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E7%95%8C%E9%9D%A2/%E8%AE%BE%E7%BD%AE%E5%AF%BC%E8%88%AA%E6%9D%A1/navigationbar/" class="">Navigationbar</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6d45056eb37e7319c6b773b3c932e691" class="toggle"  />
    <label for="section-6d45056eb37e7319c6b773b3c932e691" class="flex justify-between">
      <a  class="">window</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E9%A1%B5%E9%9D%A2%E5%92%8C%E7%AA%97%E4%BD%93/subnvue%E5%8E%9F%E7%94%9F%E5%AD%90%E7%AA%97%E4%BD%93/subnvues/" class="">Sub Nvues</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E9%A1%B5%E9%9D%A2%E5%92%8C%E7%AA%97%E4%BD%93/%E9%A1%B5%E9%9D%A2/window/" class="">Window</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E9%A1%B5%E9%9D%A2%E5%92%8C%E7%AA%97%E4%BD%93/%E9%A1%B5%E9%9D%A2%E9%80%9A%E8%AE%AF/communication/" class="">Communication</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/api/%E9%A1%B5%E9%9D%A2%E5%92%8C%E7%AA%97%E4%BD%93/%E9%A1%B5%E9%9D%A2%E9%80%9A%E8%AE%AF/prompt/" class="">Prompt</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>architecture</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f66d6a9144fa49d179687aa87ff1ae24" class="toggle"  />
    <label for="section-f66d6a9144fa49d179687aa87ff1ae24" class="flex justify-between">
      <a  class="">frame</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%9E%B6%E6%9E%84/%E6%A1%86%E6%9E%B6%E7%AE%80%E4%BB%8B/frame/" class="">Frame</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a049cd745287998359886ef19cf6be67" class="toggle"  />
    <label for="section-a049cd745287998359886ef19cf6be67" class="flex justify-between">
      <a  class="">vue course</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%9E%B6%E6%9E%84/vue%E6%95%99%E7%A8%8B/api/vue-api/" class="">Vue API</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%9E%B6%E6%9E%84/vue%E6%95%99%E7%A8%8B/%E5%9F%BA%E7%A1%80/vue-basics/" class="">Vue Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%9E%B6%E6%9E%84/vue%E6%95%99%E7%A8%8B/%E7%BB%84%E4%BB%B6/vue-components/" class="">Vue Components</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>component</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1ddd43c2c32bce99c608b406e5e0bceb" class="toggle"  />
    <label for="section-1ddd43c2c32bce99c608b406e5e0bceb" class="flex justify-between">
      <a  class="">basic</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/icon/icon/" class="">Icon</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/progress/progress/" class="">Progress</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/rich-text/rich-text/" class="">Rich Text</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/text/text/" class="">Text</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-22be46d54acf7207f8310ab94f68a986" class="toggle"  />
    <label for="section-22be46d54acf7207f8310ab94f68a986" class="flex justify-between">
      <a  class="">canvas</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E7%94%BB%E5%B8%83/canvas/canvas/" class="">Canvas</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f602e61b476c4e21125c04e1ddc8af16" class="toggle"  />
    <label for="section-f602e61b476c4e21125c04e1ddc8af16" class="flex justify-between">
      <a  class="">form</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/button/button/" class="">Button</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/checkbox/checkbox/" class="">Checkbox</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/editor/editor/" class="">Editor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/form/form/" class="">Form</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/input/input/" class="">Input</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/label/label/" class="">Label</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/picker-view/picker-view/" class="">Picker View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/picker/picker/" class="">Picker</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/radio/radio/" class="">Radio</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/slider/slider/" class="">Slider</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/switch/switch/" class="">Switch</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/textarea/textarea/" class="">Textarea</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-46a489929b7e31aa77df6165d986e5ac" class="toggle"  />
    <label for="section-46a489929b7e31aa77df6165d986e5ac" class="flex justify-between">
      <a  class="">map</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9C%B0%E5%9B%BE/map/map/" class="">Map</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-96b7efc3e2e98da8b3f00706c6b85a0f" class="toggle"  />
    <label for="section-96b7efc3e2e98da8b3f00706c6b85a0f" class="flex justify-between">
      <a  class="">media</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%AA%92%E4%BD%93%E7%BB%84%E4%BB%B6/audio/audio/" class="">Audio</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%AA%92%E4%BD%93%E7%BB%84%E4%BB%B6/image/image/" class="">Image</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%AA%92%E4%BD%93%E7%BB%84%E4%BB%B6/video/video/" class="">Video</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b59fe0717594eb116818d49b286a34d7" class="toggle"  />
    <label for="section-b59fe0717594eb116818d49b286a34d7" class="flex justify-between">
      <a  class="">navigation</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%AF%BC%E8%88%AA%E7%B1%BB%E7%BB%84%E4%BB%B6/navigation-bar/navigation-bar/" class="">Navigation Bar</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-1db3b5deb264f9b5de772b4dbba8b7f9" class="toggle"  />
    <label for="section-1db3b5deb264f9b5de772b4dbba8b7f9" class="flex justify-between">
      <a  class="">navigator</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC/custom-tab-bar/custom-tab-bar/" class="">Custom Tab Bar</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC/navigator/navigator/" class="">Navigator</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-63f14fe37d486068ba68f9b5b01a1c42" class="toggle"  />
    <label for="section-63f14fe37d486068ba68f9b5b01a1c42" class="flex justify-between">
      <a  class="">view</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/cover-image/cover-view/" class="">Cover View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/match-media/match-media/" class="">Match Media</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/movable-view/movable-view/" class="">Movable View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/movavle-area/movable-view/" class="">Movable View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/scroll-view/scroll-view/" class="">Scroll View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/swiper/swiper/" class="">Swiper</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/view/view/" class="">View</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-af81226e1da28475831af89717cba19e" class="toggle"  />
    <label for="section-af81226e1da28475831af89717cba19e" class="flex justify-between">
      <a  class="">webview</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/webview/web-view/web-view/" class="">Web View</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>framework</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-38c1653e5e3826b85c1f2bdb1f455def" class="toggle"  />
    <label for="section-38c1653e5e3826b85c1f2bdb1f455def" class="flex justify-between">
      <a  class="">config</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/app.vue/app/" class="">App</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/main.js/main/" class="">Main</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/manifest.json/manifest/" class="">Manifest</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/pages.json/pages/" class="">Pages</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/uni.scss/uni-scss/" class="">Uni Scss</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/vue.config.js/vue-config/" class="">Vue Config</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-07ab1221dc146ff1ba21ebbc19800268" class="toggle"  />
    <label for="section-07ab1221dc146ff1ba21ebbc19800268" class="flex justify-between">
      <a  class="">interface</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E5%AE%9A%E6%97%B6%E5%99%A8/timer/" class="">Timer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0/log/" class="">Log</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/lifecycle/" class="">Lifecycle</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E9%A1%B5%E9%9D%A2/window/" class="">Window</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E9%A1%B5%E9%9D%A2%E9%80%9A%E8%AE%AF/communication/" class="">Communication</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong></strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#开发规范">开发规范</a></li>
        <li><a href="#目录结构">目录结构</a></li>
        <li><a href="#资源路径说明">资源路径说明</a>
          <ul>
            <li><a href="#模板内引入静态资源">模板内引入静态资源</a></li>
            <li><a href="#js文件引入">js文件引入</a></li>
            <li><a href="#css引入静态资源">css引入静态资源</a></li>
          </ul>
        </li>
        <li><a href="#生命周期">生命周期</a>
          <ul>
            <li><a href="#应用生命周期">应用生命周期</a></li>
            <li><a href="#页面生命周期">页面生命周期</a></li>
          </ul>
        </li>
        <li><a href="#路由">路由</a>
          <ul>
            <li><a href="#路由跳转">路由跳转</a></li>
            <li><a href="#页面栈">页面栈</a></li>
          </ul>
        </li>
        <li><a href="#运行环境判断">运行环境判断</a>
          <ul>
            <li><a href="#开发环境和生产环境">开发环境和生产环境</a></li>
            <li><a href="#判断平台">判断平台</a></li>
          </ul>
        </li>
        <li><a href="#页面样式与布局">页面样式与布局</a>
          <ul>
            <li><a href="#尺寸单位">尺寸单位</a></li>
            <li><a href="#样式导入">样式导入</a></li>
            <li><a href="#内联样式">内联样式</a></li>
            <li><a href="#选择器">选择器</a></li>
            <li><a href="#全局样式与局部样式">全局样式与局部样式</a></li>
            <li><a href="#css变量">CSS变量</a></li>
            <li><a href="#固定值">固定值</a></li>
            <li><a href="#flex布局">Flex布局</a></li>
            <li><a href="#背景图片">背景图片</a></li>
            <li><a href="#字体图标">字体图标</a></li>
          </ul>
        </li>
        <li><a href="#template-和-block-template-block"><code>&lt;template/&gt;</code> 和 <code>&lt;block/&gt;</code> @template-block</a></li>
        <li><a href="#es6-支持">ES6 支持</a></li>
        <li><a href="#npm支持">NPM支持</a></li>
        <li><a href="#typescript-支持">TypeScript 支持</a>
          <ul>
            <li><a href="#注意事项">注意事项</a></li>
          </ul>
        </li>
        <li><a href="#小程序组件支持">小程序组件支持</a></li>
        <li><a href="#wxs">WXS</a></li>
        <li><a href="#renderjs">renderjs</a>
          <ul>
            <li><a href="#使用方式">使用方式</a></li>
            <li><a href="#示例">示例</a></li>
            <li><a href="#功能详解">功能详解</a></li>
            <li><a href="#注意事项-1">注意事项</a></li>
          </ul>
        </li>
        <li><a href="#致谢">致谢</a></li>
      </ul>
    </li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><p><code>uni-app</code> 使用vue的语法+小程序的标签和API。</p>
<h2 id="开发规范">
  开发规范
  <a class="anchor" href="#%e5%bc%80%e5%8f%91%e8%a7%84%e8%8c%83">#</a>
</h2>
<p>为了实现多端兼容，综合考虑编译速度、运行性能等因素，<code>uni-app</code> 约定了如下开发规范：</p>
<ul>
<li>页面文件遵循 <a href="https://vue-loader.vuejs.org/zh/spec.html">Vue 单文件组件 (SFC) 规范</a></li>
<li>组件标签靠近小程序规范，详见<a href="component/README.md">uni-app 组件规范</a></li>
<li>接口能力（JS API）靠近微信小程序规范，但需将前缀 <code>wx</code> 替换为 <code>uni</code>，详见<a href="api/README.md">uni-app接口规范</a></li>
<li>数据绑定及事件处理同 <code>Vue.js</code> 规范，同时补充了App及页面的生命周期</li>
<li>为兼容多端运行，建议使用flex布局进行开发</li>
</ul>
<h2 id="目录结构">
  目录结构
  <a class="anchor" href="#%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84">#</a>
</h2>
<p>一个uni-app工程，默认包含如下目录及文件：</p>
<pre v-pre="" data-lang="">
	<code class="lang-" style="padding:0">
┌─cloudfunctions        云函数目录（阿里云为aliyun，腾讯云为tcb，详见<a href="https://uniapp.dcloud.io/uniCloud/">uniCloud</a>）
│─components            符合vue组件规范的uni-app组件目录
│  └─comp-a.vue         可复用的a组件
├─hybrid                存放本地网页的目录，<a href="/component/web-view">详见</a>
├─platforms             存放各平台专用页面的目录，<a href="/platform?id=%E6%95%B4%E4%BD%93%E7%9B%AE%E5%BD%95%E6%9D%A1%E4%BB%B6%E7%BC%96%E8%AF%91">详见</a>
├─pages                 业务页面文件存放的目录
│  ├─index
│  │  └─index.vue       index页面
│  └─list
│     └─list.vue        list页面
├─static                存放应用引用静态资源（如图片、视频等）的目录，<b>注意：</b>静态资源只能存放于此
├─wxcomponents          存放小程序组件的目录，<a href="/frame?id=%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%BB%84%E4%BB%B6%E6%94%AF%E6%8C%81">详见</a>
├─main.js               Vue初始化入口文件
├─App.vue               应用配置，用来配置App全局样式以及监听 <a href="/collocation/frame/lifecycle?id=应用生命周期">应用生命周期</a>
├─manifest.json         配置应用名称、appid、logo、版本等打包信息，<a href="/collocation/manifest">详见</a>
└─pages.json            配置页面路由、导航条、选项卡等页面类信息，<a href="/collocation/pages">详见</a>
	</code>
</pre>
<p><strong>Tips</strong></p>
<ul>
<li>编译到任意平台时，<code>static</code> 目录下的文件均会被打包进去，非 <code>static</code> 目录下的文件（vue、js、css 等）被引用到才会被包含进去。</li>
<li><code>static</code> 目录下的 <code>js</code> 文件不会被编译，如果里面有 <code>es6</code> 的代码，不经过转换直接运行，在手机设备上会报错。</li>
<li><code>css</code>、<code>less/scss</code> 等资源同样不要放在 <code>static</code> 目录下，建议这些公用的资源放在 <code>common</code> 目录下。</li>
<li>HbuilderX 1.9.0+ 支持在根目录创建 <code>ext.json</code> <code>sitemap.json</code> 文件。</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">有效目录</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">app-plus</td>
<td style="text-align:center">App</td>
</tr>
<tr>
<td style="text-align:center">h5</td>
<td style="text-align:center">H5</td>
</tr>
<tr>
<td style="text-align:center">mp-weixin</td>
<td style="text-align:center">微信小程序</td>
</tr>
<tr>
<td style="text-align:center">mp-alipay</td>
<td style="text-align:center">支付宝小程序</td>
</tr>
<tr>
<td style="text-align:center">mp-baidu</td>
<td style="text-align:center">百度小程序</td>
</tr>
</tbody>
</table>
<h2 id="资源路径说明">
  资源路径说明
  <a class="anchor" href="#%e8%b5%84%e6%ba%90%e8%b7%af%e5%be%84%e8%af%b4%e6%98%8e">#</a>
</h2>
<h3 id="模板内引入静态资源">
  模板内引入静态资源
  <a class="anchor" href="#%e6%a8%a1%e6%9d%bf%e5%86%85%e5%bc%95%e5%85%a5%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90">#</a>
</h3>
<blockquote>
<p><code>template</code>内引入静态资源，如<code>image</code>、<code>video</code>等标签的<code>src</code>属性时，可以使用相对路径或者绝对路径，形式如下</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 绝对路径，/static指根目录下的static目录，在cli项目中/static指src目录下的static目录 --&gt;</span>
&lt;<span style="color:#f92672">image</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;logo&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/static/logo.png&#34;</span>&gt;&lt;/<span style="color:#f92672">image</span>&gt;
&lt;<span style="color:#f92672">image</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;logo&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;@/static/logo.png&#34;</span>&gt;&lt;/<span style="color:#f92672">image</span>&gt;
<span style="color:#75715e">&lt;!-- 相对路径 --&gt;</span>
&lt;<span style="color:#f92672">image</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;logo&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;../../static/logo.png&#34;</span>&gt;&lt;/<span style="color:#f92672">image</span>&gt;
</code></pre></div><p><strong>注意</strong></p>
<ul>
<li><code>@</code>开头的绝对路径以及相对路径会经过base64转换规则校验</li>
<li>引入的静态资源在非h5平台，均不转为base64。</li>
<li>H5平台，小于4kb的资源会被转换成base64，其余不转。</li>
<li>自<code>HBuilderX 2.6.6-alpha</code>起<code>template</code>内支持<code>@</code>开头路径引入静态资源，旧版本不支持此方式</li>
<li>App平台自<code>HBuilderX 2.6.9-alpha</code>起<code>template</code>节点中引用静态资源文件时（如：图片），调整查找策略为【基于当前文件的路径搜索】，与其他平台保持一致</li>
<li>支付宝小程序组件内 image 标签不可使用相对路径</li>
</ul>
<h3 id="js文件引入">
  js文件引入
  <a class="anchor" href="#js%e6%96%87%e4%bb%b6%e5%bc%95%e5%85%a5">#</a>
</h3>
<blockquote>
<p><code>js</code>文件或<code>script</code>标签内（包括renderjs等）引入<code>js</code>文件时，可以使用相对路径和绝对路径，形式如下</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// 绝对路径，@指向项目根目录，在cli项目中@指向src目录
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">add</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;@/common/add.js&#39;</span>
<span style="color:#75715e">// 相对路径
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">add</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../../common/add.js&#39;</span>
</code></pre></div><p><strong>注意</strong></p>
<ul>
<li>js文件不支持使用<code>/</code>开头的方式引入</li>
</ul>
<h3 id="css引入静态资源">
  css引入静态资源
  <a class="anchor" href="#css%e5%bc%95%e5%85%a5%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90">#</a>
</h3>
<blockquote>
<p><code>css</code>文件或<code>style标签</code>内引入<code>css</code>文件时（scss、less文件同理），可以使用相对路径或绝对路径（<code>HBuilderX 2.6.6-alpha</code>）</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/* 绝对路径 */</span>
@<span style="color:#66d9ef">import</span> <span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;/common/uni.css&#39;</span><span style="color:#f92672">)</span>;
@<span style="color:#66d9ef">import</span> <span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;@/common/uni.css&#39;</span><span style="color:#f92672">)</span>;
<span style="color:#75715e">/* 相对路径 */</span>
@<span style="color:#66d9ef">import</span> <span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;../../common/uni.css&#39;</span><span style="color:#f92672">)</span>;
</code></pre></div><p><strong>注意</strong></p>
<ul>
<li>自<code>HBuilderX 2.6.6-alpha</code>起支持绝对路径引入静态资源，旧版本不支持此方式</li>
</ul>
<blockquote>
<p><code>css</code>文件或<code>style标签</code>内引用的图片路径可以使用相对路径也可以使用绝对路径，需要注意的是，有些小程序端css文件不允许引用本地文件（请看注意事项）。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/* 绝对路径 */</span>
<span style="color:#f92672">background-image</span><span style="color:#f92672">:</span> <span style="color:#f92672">url</span><span style="color:#f92672">(/</span><span style="color:#f92672">static</span><span style="color:#f92672">/</span><span style="color:#f92672">logo</span>.<span style="color:#a6e22e">png</span><span style="color:#f92672">);</span>
<span style="color:#f92672">background-image</span><span style="color:#f92672">:</span> <span style="color:#f92672">url</span><span style="color:#f92672">(@/</span><span style="color:#f92672">static</span><span style="color:#f92672">/</span><span style="color:#f92672">logo</span>.<span style="color:#a6e22e">png</span><span style="color:#f92672">);</span>
<span style="color:#75715e">/* 相对路径 */</span>
<span style="color:#f92672">background-image</span><span style="color:#f92672">:</span> <span style="color:#f92672">url</span><span style="color:#f92672">(../../</span><span style="color:#f92672">static</span><span style="color:#f92672">/</span><span style="color:#f92672">logo</span>.<span style="color:#a6e22e">png</span><span style="color:#f92672">);</span>
</code></pre></div><p><strong>Tips</strong></p>
<ul>
<li>引入字体图标请参考，<a href="frame?id=%e5%ad%97%e4%bd%93%e5%9b%be%e6%a0%87">字体图标</a></li>
<li><code>@</code>开头的绝对路径以及相对路径会经过base64转换规则校验</li>
<li>不支持本地图片的平台，小于40kb，一定会转base64。（共四个平台mp-weixin, mp-qq, mp-toutiao, app v2）</li>
<li>h5平台，小于4kb会转base64，超出4kb时不转。</li>
<li>其余平台不会转base64</li>
</ul>
<h2 id="生命周期">
  生命周期
  <a class="anchor" href="#%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f">#</a>
</h2>
<h3 id="应用生命周期">
  应用生命周期
  <a class="anchor" href="#%e5%ba%94%e7%94%a8%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f">#</a>
</h3>
<p><code>uni-app</code> 支持 onLaunch、onShow、onHide 等应用生命周期函数，详情请参考<a href="/collocation/frame/lifecycle?id=%e5%ba%94%e7%94%a8%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f">应用生命周期</a></p>
<h3 id="页面生命周期">
  页面生命周期
  <a class="anchor" href="#%e9%a1%b5%e9%9d%a2%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f">#</a>
</h3>
<p><code>uni-app</code> 支持 onLoad、onShow、onReady 等生命周期函数，详情请参考<a href="/collocation/frame/lifecycle?id=%e9%a1%b5%e9%9d%a2%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f">页面生命周期</a></p>
<h2 id="路由">
  路由
  <a class="anchor" href="#%e8%b7%af%e7%94%b1">#</a>
</h2>
<p><code>uni-app</code>页面路由为框架统一管理，开发者需要在<a href="/collocation/pages?id=pages">pages.json</a>里配置每个路由页面的路径及页面样式。类似小程序在app.json中配置页面路由一样。所以 <code>uni-app</code> 的路由用法与 <code>Vue Router</code> 不同，如仍希望采用 <code>Vue Router</code> 方式管理路由，可在插件市场搜索 <a href="https://ext.dcloud.net.cn/search?q=vue-router">Vue-Router</a>。</p>
<h3 id="路由跳转">
  路由跳转
  <a class="anchor" href="#%e8%b7%af%e7%94%b1%e8%b7%b3%e8%bd%ac">#</a>
</h3>
<p><code>uni-app</code> 有两种页面路由跳转方式：使用<a href="/component/navigator">navigator</a>组件跳转、调用<a href="/api/router">API</a>跳转。</p>
<h3 id="页面栈">
  页面栈
  <a class="anchor" href="#%e9%a1%b5%e9%9d%a2%e6%a0%88">#</a>
</h3>
<p>框架以栈的形式管理当前所有页面， 当发生路由切换的时候，页面栈的表现如下：</p>
<table>
<thead>
<tr>
<th>路由方式</th>
<th>页面栈表现</th>
<th>触发时机</th>
</tr>
</thead>
<tbody>
<tr>
<td>初始化</td>
<td>新页面入栈</td>
<td>uni-app 打开的第一个页面</td>
</tr>
<tr>
<td>打开新页面</td>
<td>新页面入栈</td>
<td>调用 API   <a href="/api/router?id=navigateto">uni.navigateTo</a>  、使用组件  <a href="/component/navigator?id=navigator">&lt;navigator open-type=&ldquo;navigate&rdquo;/&gt;</a></td>
</tr>
<tr>
<td>页面重定向</td>
<td>当前页面出栈，新页面入栈</td>
<td>调用 API    <a href="/api/router?id=redirectto">uni.redirectTo</a>  、使用组件  <a href="/component/navigator?id=navigator">&lt;navigator open-type=&ldquo;redirectTo&rdquo;/&gt;</a></td>
</tr>
<tr>
<td>页面返回</td>
<td>页面不断出栈，直到目标返回页</td>
<td>调用 API  <a href="/api/router?id=navigateback">uni.navigateBack</a>   、使用组件 <a href="/component/navigator?id=navigator">&lt;navigator open-type=&ldquo;navigateBack&rdquo;/&gt;</a> 、用户按左上角返回按钮、安卓用户点击物理back按键</td>
</tr>
<tr>
<td>Tab 切换</td>
<td>页面全部出栈，只留下新的 Tab 页面</td>
<td>调用 API  <a href="/api/router?id=switchtab">uni.switchTab</a>   、使用组件  <a href="/component/navigator?id=navigator">&lt;navigator open-type=&ldquo;switchTab&rdquo;/&gt;</a>  、用户切换 Tab</td>
</tr>
<tr>
<td>重加载</td>
<td>页面全部出栈，只留下新的页面</td>
<td>调用 API  <a href="/api/router?id=relaunch">uni.reLaunch</a>   、使用组件  <a href="/component/navigator?id=navigator">&lt;navigator open-type=&ldquo;reLaunch&rdquo;/&gt;</a></td>
</tr>
</tbody>
</table>
<h2 id="运行环境判断">
  运行环境判断
  <a class="anchor" href="#%e8%bf%90%e8%a1%8c%e7%8e%af%e5%a2%83%e5%88%a4%e6%96%ad">#</a>
</h2>
<h3 id="开发环境和生产环境">
  开发环境和生产环境
  <a class="anchor" href="#%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e5%92%8c%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83">#</a>
</h3>
<p><code>uni-app</code> 可通过 <code>process.env.NODE_ENV</code> 判断当前环境是开发环境还是生产环境。一般用于连接测试服务器或生产服务器的动态切换。</p>
<ul>
<li>在HBuilderX 中，点击“运行”编译出来的代码是开发环境，点击“发行”编译出来的代码是生产环境</li>
<li>cli模式下，是通行的编译环境处理方式。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">NODE_ENV</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;development&#39;</span>){
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;开发环境&#39;</span>)
}<span style="color:#66d9ef">else</span>{
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;生产环境&#39;</span>)
}
</code></pre></div><p>如果你需要自定义更多环境，比如测试环境：</p>
<ul>
<li>假设只需要对单一平台配置，可以 package.json 中配置，在HBuilderX的运行和发行菜单里会多一个出来。<a href="https://uniapp.dcloud.io/collocation/package">https://uniapp.dcloud.io/collocation/package</a></li>
<li>如果是针对所有平台配置，可以在 vue-config.js 中配置。<a href="https://uniapp.dcloud.io/collocation/vue-config">https://uniapp.dcloud.io/collocation/vue-config</a></li>
</ul>
<p><strong>快捷代码块</strong></p>
<p>HBuilderX 中敲入代码块 <code>uEnvDev</code>、<code>uEnvProd</code> 可以快速生成对应 <code>development</code>、<code>production</code> 的运行环境判定代码。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// uEnvDev
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">NODE_ENV</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;development&#39;</span>) {
    <span style="color:#75715e">// TODO
</span><span style="color:#75715e"></span>}
<span style="color:#75715e">// uEnvProd
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">NODE_ENV</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;production&#39;</span>) {
    <span style="color:#75715e">// TODO
</span><span style="color:#75715e"></span>}
</code></pre></div><h3 id="判断平台">
  判断平台
  <a class="anchor" href="#%e5%88%a4%e6%96%ad%e5%b9%b3%e5%8f%b0">#</a>
</h3>
<p>平台判断有2种场景，一种是在编译期判断，一种是在运行期判断。</p>
<ul>
<li>编译期判断
编译期判断，即条件编译，不同平台在编译出包后已经是不同的代码。详见：<a href="/platform">条件编译</a></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// #ifdef H5
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;只有h5平台才有alert方法&#34;</span>)
<span style="color:#75715e">// #endif
</span></code></pre></div><p>如上代码只会编译到H5的发行包里，其他平台的包不会包含如上代码。</p>
<ul>
<li>运行期判断
运行期判断是指代码已经打入包中，仍然需要在运行期判断平台，此时可使用 <code>uni.getSystemInfoSync().platform</code> 判断客户端环境是 Android、iOS 还是小程序开发工具（在百度小程序开发工具、微信小程序开发工具、支付宝小程序开发工具中使用 <code>uni.getSystemInfoSync().platform</code> 返回值均为 devtools）。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">switch</span>(<span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">getSystemInfoSync</span>().<span style="color:#a6e22e">platform</span>){
    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;android&#39;</span><span style="color:#f92672">:</span>
       <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;运行Android上&#39;</span>)
       <span style="color:#66d9ef">break</span>;
    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;ios&#39;</span><span style="color:#f92672">:</span>
       <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;运行iOS上&#39;</span>)
       <span style="color:#66d9ef">break</span>;
    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
       <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;运行在开发者工具上&#39;</span>)
       <span style="color:#66d9ef">break</span>;
}
</code></pre></div><p>如有必要，也可以在条件编译里自己定义一个变量，赋不同值。在后续运行代码中动态判断环境。</p>
<h2 id="页面样式与布局">
  页面样式与布局
  <a class="anchor" href="#%e9%a1%b5%e9%9d%a2%e6%a0%b7%e5%bc%8f%e4%b8%8e%e5%b8%83%e5%b1%80">#</a>
</h2>
<h3 id="尺寸单位">
  尺寸单位
  <a class="anchor" href="#%e5%b0%ba%e5%af%b8%e5%8d%95%e4%bd%8d">#</a>
</h3>
<p><code>uni-app</code> 支持的通用 css 单位包括 px、rpx</p>
<ul>
<li>px 即屏幕像素</li>
<li>rpx 即响应式px，一种根据屏幕宽度自适应的动态单位。以750宽的屏幕为基准，750rpx恰好为屏幕宽度。屏幕变宽，rpx 实际显示效果会等比放大，但在 App 端和 H5 端屏幕宽度达到 960px 时，默认将按照 375px 的屏幕宽度进行计算，具体配置参考：<a href="https://uniapp.dcloud.io/collocation/pages?id=globalstyle">rpx计算配置</a> 。</li>
</ul>
<p>vue页面支持普通H5单位，但在nvue里不支持：</p>
<ul>
<li>rem 根字体大小可以通过 <a href="/component/page-meta?id=page-meta">page-meta</a> 配置<span style="display:none">字节跳动小程序：屏幕宽度/20、百度小程序：16px、支付宝小程序：50px</span></li>
<li>vh viewpoint height，视窗高度，1vh等于视窗高度的1%</li>
<li>vw viewpoint width，视窗宽度，1vw等于视窗宽度的1%</li>
</ul>
<p>nvue还不支持百分比单位。</p>
<p>App端，在 pages.json 里的 titleNView 或页面里写的 plus api 中涉及的单位，只支持 px。<strong>注意此时不支持 rpx</strong></p>
<p>nvue中，uni-app 模式（<a href="https://ask.dcloud.net.cn/article/36074">nvue 不同编译模式介绍</a>）可以使用 px 、rpx，表现与 vue 中一致。weex 模式目前遵循weex的单位，它的单位比较特殊：</p>
<ul>
<li>px:，以750宽的屏幕为基准动态计算的长度单位，与 vue 页面中的 rpx 理念相同。（一定要注意 weex 模式的 px，和 vue 里的 px 逻辑不一样。）</li>
<li>wx：与设备屏幕宽度无关的长度单位，与 vue 页面中的 px 理念相同</li>
</ul>
<p>下面对 <code>rpx</code> 详细说明：</p>
<p>设计师在提供设计图时，一般只提供一个分辨率的图。</p>
<p>严格按设计图标注的 px 做开发，在不同宽度的手机上界面很容易变形。</p>
<p>而且主要是宽度变形。高度一般因为有滚动条，不容易出问题。由此，引发了较强的动态宽度单位需求。</p>
<p>微信小程序设计了 rpx 解决这个问题。<code>uni-app</code> 在 App 端、H5 端都支持了 <code>rpx</code>，并且可以配置不同屏幕宽度的计算方式，具体参考：<a href="https://uniapp.dcloud.io/collocation/pages?id=globalstyle">rpx计算配置</a>。</p>
<p>rpx 是相对于基准宽度的单位，可以根据屏幕宽度进行自适应。<code>uni-app</code> 规定屏幕基准宽度 750rpx。</p>
<p>开发者可以通过设计稿基准宽度计算页面元素 rpx 值，设计稿 1px 与框架样式 1rpx 转换公式如下：</p>
<p><code>设计稿 1px / 设计稿基准宽度 = 框架样式 1rpx / 750rpx</code></p>
<p>换言之，页面元素宽度在 <code>uni-app</code> 中的宽度计算公式：</p>
<p><code>750 * 元素在设计稿中的宽度 / 设计稿基准宽度</code></p>
<p><strong>举例说明：</strong></p>
<ol>
<li>若设计稿宽度为 750px，元素 A 在设计稿上的宽度为 100px，那么元素 A 在 <code>uni-app</code> 里面的宽度应该设为：<code>750 * 100 / 750</code>，结果为：100rpx。</li>
<li>若设计稿宽度为 640px，元素 A 在设计稿上的宽度为 100px，那么元素 A 在 <code>uni-app</code> 里面的宽度应该设为：<code>750 * 100 / 640</code>，结果为：117rpx。</li>
<li>若设计稿宽度为 375px，元素 B 在设计稿上的宽度为 200px，那么元素 B 在 <code>uni-app</code> 里面的宽度应该设为：<code> 750 * 200 / 375</code>，结果为：400rpx。</li>
</ol>
<p><strong>Tips</strong></p>
<ul>
<li>注意 rpx 是和宽度相关的单位，屏幕越宽，该值实际像素越大。如不想根据屏幕宽度缩放，则应该使用 px 单位。</li>
<li>如果开发者在字体或高度中也使用了 rpx ，那么需注意这样的写法意味着随着屏幕变宽，字体会变大、高度会变大。如果你需要固定高度，则应该使用 px 。</li>
<li>rpx不支持动态横竖屏切换计算，使用rpx建议锁定屏幕方向</li>
<li>设计师可以用 iPhone6 作为视觉稿的标准。</li>
<li>如果设计稿不是750px，HBuilderX提供了自动换算的工具，详见：<a href="https://ask.dcloud.net.cn/article/35445">https://ask.dcloud.net.cn/article/35445</a>。</li>
<li>App端，在 pages.json 里的 titleNView 或页面里写的 plus api 中涉及的单位，只支持 px，不支持 rpx。</li>
<li>早期 uni-app 提供了 upx ，目前已经推荐统一改为 rpx 了，<a href="http://ask.dcloud.net.cn/article/36130">详见</a></li>
</ul>
<h3 id="样式导入">
  样式导入
  <a class="anchor" href="#%e6%a0%b7%e5%bc%8f%e5%af%bc%e5%85%a5">#</a>
</h3>
<p>使用<code>@import</code>语句可以导入外联样式表，<code>@import</code>后跟需要导入的外联样式表的相对路径，用<code>;</code>表示语句结束。</p>
<p><strong>示例代码：</strong></p>
<pre><code>&lt;style&gt;
    @import &quot;../../common/uni.css&quot;;

    .uni-card {
        box-shadow: none;
    }
&lt;/style&gt;
</code></pre><h3 id="内联样式">
  内联样式
  <a class="anchor" href="#%e5%86%85%e8%81%94%e6%a0%b7%e5%bc%8f">#</a>
</h3>
<p>框架组件上支持使用 style、class 属性来控制组件的样式。</p>
<ul>
<li>style：静态的样式统一写到 class 中。style 接收动态的样式，在运行时会进行解析，请尽量避免将静态的样式写进 style 中，以免影响渲染速度。</li>
</ul>
<pre><code>&lt;view :style=&quot;{color:color}&quot; /&gt;
</code></pre><ul>
<li>class：用于指定样式规则，其属性值是样式规则中类选择器名(样式类名)的集合，样式类名不需要带上.，样式类名之间用空格分隔。</li>
</ul>
<pre><code>&lt;view class=&quot;normal_view&quot; /&gt;
</code></pre><h3 id="选择器">
  选择器
  <a class="anchor" href="#%e9%80%89%e6%8b%a9%e5%99%a8">#</a>
</h3>
<p>目前支持的选择器有：</p>
<table>
<thead>
<tr>
<th style="text-align:left">选择器</th>
<th style="text-align:left">样例</th>
<th style="text-align:left">样例描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">.class</td>
<td style="text-align:left">.intro</td>
<td style="text-align:left">选择所有拥有 class=&ldquo;intro&rdquo; 的组件</td>
</tr>
<tr>
<td style="text-align:left">#id</td>
<td style="text-align:left">#firstname</td>
<td style="text-align:left">选择拥有 id=&ldquo;firstname&rdquo; 的组件</td>
</tr>
<tr>
<td style="text-align:left">element</td>
<td style="text-align:left">view</td>
<td style="text-align:left">选择所有 view 组件</td>
</tr>
<tr>
<td style="text-align:left">element, element</td>
<td style="text-align:left">view, checkbox</td>
<td style="text-align:left">选择所有文档的 view 组件和所有的 checkbox 组件</td>
</tr>
<tr>
<td style="text-align:left">::after</td>
<td style="text-align:left">view::after</td>
<td style="text-align:left">在 view 组件后边插入内容，<strong>仅微信小程序和App生效</strong></td>
</tr>
<tr>
<td style="text-align:left">::before</td>
<td style="text-align:left">view::before</td>
<td style="text-align:left">在 view 组件前边插入内容，<strong>仅微信小程序和App生效</strong></td>
</tr>
</tbody>
</table>
<p><strong>注意：</strong></p>
<ul>
<li>
<p>在 <code>uni-app</code> 中不能使用 <code>*</code> 选择器。</p>
</li>
<li>
<p>微信小程序自定义组件中仅支持 class 选择器</p>
</li>
<li>
<p><code>page</code> 相当于 <code>body</code> 节点，例如：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">&lt;!</span><span style="color:#f92672">--</span> <span style="color:#f92672">设置页面背景颜色</span><span style="color:#960050;background-color:#1e0010">，</span><span style="color:#f92672">使用</span> <span style="color:#f92672">scoped</span> <span style="color:#f92672">会导致失效</span> <span style="color:#f92672">--</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">page</span> {
  <span style="color:#66d9ef">background-color</span>:<span style="color:#ae81ff">#ccc</span>;
}
</code></pre></div></li>
</ul>
<h3 id="全局样式与局部样式">
  全局样式与局部样式
  <a class="anchor" href="#%e5%85%a8%e5%b1%80%e6%a0%b7%e5%bc%8f%e4%b8%8e%e5%b1%80%e9%83%a8%e6%a0%b7%e5%bc%8f">#</a>
</h3>
<p>定义在 App.vue 中的样式为全局样式，作用于每一个页面。在 pages 目录下 的 vue 文件中定义的样式为局部样式，只作用在对应的页面，并会覆盖 App.vue 中相同的选择器。</p>
<p><strong>注意：</strong></p>
<ul>
<li>App.vue 中通过 <code>@import</code> 语句可以导入外联样式，一样作用于每一个页面。</li>
<li>nvue页面暂不支持全局样式</li>
</ul>
<h3 id="css变量">
  CSS变量
  <a class="anchor" href="#css%e5%8f%98%e9%87%8f">#</a>
</h3>
<p>uni-app 提供内置 CSS 变量</p>
<table>
<thead>
<tr>
<th style="text-align:left">CSS变量</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">App</th>
<th style="text-align:left">小程序</th>
<th style="text-align:left">H5</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">&ndash;status-bar-height</td>
<td style="text-align:left">系统状态栏高度</td>
<td style="text-align:left"><a href="http://www.html5plus.org/doc/zh_cn/navigator.html#plus.navigator.getStatusbarHeight">系统状态栏高度</a>、nvue注意见下</td>
<td style="text-align:left">25px</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">&ndash;window-top</td>
<td style="text-align:left">内容区域距离顶部的距离</td>
<td style="text-align:left">0</td>
<td style="text-align:left">0</td>
<td style="text-align:left">NavigationBar 的高度</td>
</tr>
<tr>
<td style="text-align:left">&ndash;window-bottom</td>
<td style="text-align:left">内容区域距离底部的距离</td>
<td style="text-align:left">0</td>
<td style="text-align:left">0</td>
<td style="text-align:left">TabBar 的高度</td>
</tr>
</tbody>
</table>
<p><strong>注意：</strong></p>
<ul>
<li><code>var(--status-bar-height)</code> 此变量在微信小程序环境为固定 <code>25px</code>，在 App 里为手机实际状态栏高度。</li>
<li>当设置 <code>&quot;navigationStyle&quot;:&quot;custom&quot;</code> 取消原生导航栏后，由于窗体为沉浸式，占据了状态栏位置。此时可以使用一个高度为 <code>var(--status-bar-height)</code> 的 view 放在页面顶部，避免页面内容出现在状态栏。</li>
<li>由于在H5端，不存在原生导航栏和tabbar，也是前端div模拟。如果设置了一个固定位置的居底view，在小程序和App端是在tabbar上方，但在H5端会与tabbar重叠。此时可使用<code>--window-bottom</code>，不管在哪个端，都是固定在tabbar上方。</li>
<li>目前 nvue 在App端，还不支持 <code>--status-bar-height</code>变量，替代方案是在页面onLoad时通过uni.getSystemInfoSync().statusBarHeight获取状态栏高度，然后通过style绑定方式给占位view设定高度。下方提供了示例代码</li>
</ul>
<p><strong>代码块</strong></p>
<p>快速书写css变量的方法是：在css中敲hei，在候选助手中即可看到3个css变量。（HBuilderX 1.9.6以上支持）</p>
<p>示例1 - 普通页面使用css变量：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
    <span style="color:#75715e">&lt;!-- HBuilderX 2.6.3+ 新增 page-meta, 详情：https://uniapp.dcloud.io/component/page-meta --&gt;</span>
    &lt;<span style="color:#f92672">page-meta</span>&gt;
        &lt;<span style="color:#f92672">navigation-bar</span> /&gt;
    &lt;/<span style="color:#f92672">page-meta</span>&gt;
	&lt;<span style="color:#f92672">view</span>&gt;
		&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;status_bar&#34;</span>&gt;
			<span style="color:#75715e">&lt;!-- 这里是状态栏 --&gt;</span>
		&lt;/<span style="color:#f92672">view</span>&gt;
		&lt;<span style="color:#f92672">view</span>&gt; 状态栏下的文字 &lt;/<span style="color:#f92672">view</span>&gt;
	&lt;/<span style="color:#f92672">view</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;	
&lt;<span style="color:#f92672">style</span>&gt;
	.<span style="color:#a6e22e">status_bar</span> {
		<span style="color:#66d9ef">height</span>: <span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span><span style="color:#66d9ef">status-bar</span><span style="color:#f92672">-</span>height);
		<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
	}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">view</span>&gt;
		&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;toTop&#34;</span>&gt;
			<span style="color:#75715e">&lt;!-- 这里可以放一个向上箭头，它距离底部tabbar上浮10px--&gt;</span>
		&lt;/<span style="color:#f92672">view</span>&gt;
	&lt;/<span style="color:#f92672">view</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;	
&lt;<span style="color:#f92672">style</span>&gt;
	.<span style="color:#a6e22e">toTop</span> {
		<span style="color:#66d9ef">bottom</span>: calc(<span style="color:#a6e22e">var</span>(<span style="color:#f92672">--</span>window<span style="color:#f92672">-</span><span style="color:#66d9ef">bottom</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>)
	}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>示例2 - nvue页面获取状态栏高度</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;content&#34;</span>&gt;
		&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">:style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{ height: iStatusBarHeight + &#39;px&#39;}&#34;</span>&gt;&lt;/<span style="color:#f92672">view</span>&gt;
	&lt;/<span style="color:#f92672">view</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
	<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
		<span style="color:#a6e22e">data</span>() {
			<span style="color:#66d9ef">return</span> {
				<span style="color:#a6e22e">iStatusBarHeight</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>
			}
		},
		<span style="color:#a6e22e">onLoad</span>() {
			<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">iStatusBarHeight</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">getSystemInfoSync</span>().<span style="color:#a6e22e">statusBarHeight</span>
		}
	}
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h3 id="固定值">
  固定值
  <a class="anchor" href="#%e5%9b%ba%e5%ae%9a%e5%80%bc">#</a>
</h3>
<p><code>uni-app</code> 中以下组件的高度是固定的，不可修改：</p>
<table>
<thead>
<tr>
<th style="text-align:left">组件</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">App</th>
<th style="text-align:left">H5</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">NavigationBar</td>
<td style="text-align:left">导航栏</td>
<td style="text-align:left">44px</td>
<td style="text-align:left">44px</td>
</tr>
<tr>
<td style="text-align:left">TabBar</td>
<td style="text-align:left">底部选项卡</td>
<td style="text-align:left">HBuilderX 2.3.4之前为56px，2.3.4起和H5调为一致，统一为 50px。但可以自主更改高度）</td>
<td style="text-align:left">50px</td>
</tr>
</tbody>
</table>
<p>各小程序平台，包括同小程序平台的iOS和Android的高度也不一样。</p>
<h3 id="flex布局">
  Flex布局
  <a class="anchor" href="#flex%e5%b8%83%e5%b1%80">#</a>
</h3>
<p>为支持跨平台，框架建议使用Flex布局，关于Flex布局可以参考外部文档<a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">A Complete Guide to Flexbox</a>、<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html">阮一峰的flex教程</a>等。</p>
<h3 id="背景图片">
  背景图片
  <a class="anchor" href="#%e8%83%8c%e6%99%af%e5%9b%be%e7%89%87">#</a>
</h3>
<p><code>uni-app</code> 支持使用在 css 里设置背景图片，使用方式与普通 <code>web</code> 项目大体相同，但需要注意以下几点：</p>
<ul>
<li>支持 base64 格式图片。</li>
<li>支持网络路径图片。</li>
<li>小程序不支持在css中使用本地文件，包括本地的背景图和字体文件。需以base64方式方可使用。App端在v3模式以前，也有相同限制。v3编译模式起支持直接使用本地背景图和字体。</li>
<li>使用本地路径背景图片需注意：
<ol>
<li>为方便开发者，在背景图片小于 40kb 时，<code>uni-app</code> 编译到不支持本地背景图的平台时，会自动将其转化为 base64 格式；</li>
<li>图片大于等于 40kb，会有性能问题，不建议使用太大的背景图，如开发者必须使用，则需自己将其转换为 base64 格式使用，或将其挪到服务器上，从网络地址引用。</li>
<li>本地背景图片的引用路径推荐使用以 ~@ 开头的绝对路径。</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">     .<span style="color:#a6e22e">test2</span> {
         <span style="color:#66d9ef">background-image</span>: url(<span style="color:#e6db74">&#39;~@/static/logo.png&#39;</span>);
     }
</code></pre></div></li>
</ul>
<p><strong>注意</strong></p>
<ul>
<li>微信小程序不支持相对路径（真机不支持，开发工具支持）</li>
</ul>
<h3 id="字体图标">
  字体图标
  <a class="anchor" href="#%e5%ad%97%e4%bd%93%e5%9b%be%e6%a0%87">#</a>
</h3>
<p><code>uni-app</code> 支持使用字体图标，使用方式与普通 <code>web</code> 项目相同，需要注意以下几点：</p>
<ul>
<li>支持 base64 格式字体图标。</li>
<li>支持网络路径字体图标。</li>
<li>小程序不支持在css中使用本地文件，包括本地的背景图和字体文件。需以base64方式方可使用。App端在v3模式以前，也有相同限制。v3编译模式起支持直接使用本地背景图和字体。</li>
<li>网络路径必须加协议头 <code>https</code>。</li>
<li>从 <a href="http://www.iconfont.cn">http://www.iconfont.cn</a> 上拷贝的代码，默认是没加协议头的。</li>
<li>从 <a href="http://www.iconfont.cn">http://www.iconfont.cn</a> 上下载的字体文件，都是同名字体（字体名都叫iconfont，安装字体文件时可以看到），在nvue内使用时需要注意，此字体名重复可能会显示不正常，可以使用工具修改。</li>
<li>使用本地路径图标字体需注意：
<ol>
<li>为方便开发者，在字体文件小于 40kb 时，<code>uni-app</code> 会自动将其转化为 base64 格式；</li>
<li>字体文件大于等于 40kb，仍转换为 base64 方式使用的话可能有性能问题，如开发者必须使用，则需自己将其转换为 base64 格式使用，或将其挪到服务器上，从网络地址引用；</li>
<li>字体文件的引用路径推荐使用以 ~@ 开头的绝对路径。</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">     @<span style="color:#66d9ef">font-face</span> {
         <span style="color:#f92672">font-family</span><span style="color:#f92672">:</span> <span style="color:#f92672">test1-icon</span><span style="color:#f92672">;</span>
         <span style="color:#f92672">src</span><span style="color:#f92672">:</span> <span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;~@/static/iconfont.ttf&#39;</span><span style="color:#f92672">);</span>
     }
</code></pre></div></li>
</ul>
<p><code>nvue</code>中不可直接使用css的方式引入字体文件，需要使用以下方式在js内引入。nvue内不支持本地路径引入字体，请使用网络链接或者<code>base64</code>形式。<strong><code>src</code>字段的<code>url</code>的括号内一定要使用单引号。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">domModule</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">weex</span>.<span style="color:#a6e22e">requireModule</span>(<span style="color:#e6db74">&#39;dom&#39;</span>);
<span style="color:#a6e22e">domModule</span>.<span style="color:#a6e22e">addRule</span>(<span style="color:#e6db74">&#39;fontFace&#39;</span>, {
  <span style="color:#e6db74">&#39;fontFamily&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;fontFamilyName&#34;</span>,
  <span style="color:#e6db74">&#39;src&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;url(&#39;https://...&#39;)&#34;</span>
})
</code></pre></div><p><strong>示例：</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">view</span>&gt;
		&lt;<span style="color:#f92672">view</span>&gt;
			&lt;<span style="color:#f92672">text</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test&#34;</span>&gt;&amp;#xe600;&lt;/<span style="color:#f92672">text</span>&gt;
			&lt;<span style="color:#f92672">text</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test&#34;</span>&gt;&amp;#xe687;&lt;/<span style="color:#f92672">text</span>&gt;
			&lt;<span style="color:#f92672">text</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test&#34;</span>&gt;&amp;#xe60b;&lt;/<span style="color:#f92672">text</span>&gt;
		&lt;/<span style="color:#f92672">view</span>&gt;
	&lt;/<span style="color:#f92672">view</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">style</span>&gt;
	@<span style="color:#66d9ef">font-face</span> {
		<span style="color:#f92672">font-family</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;iconfont&#39;</span><span style="color:#f92672">;</span>
		<span style="color:#f92672">src</span><span style="color:#f92672">:</span> <span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;https://at.alicdn.com/t/font_865816_17gjspmmrkti.ttf&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;truetype&#39;</span><span style="color:#f92672">);</span>
	}
	.<span style="color:#a6e22e">test</span> {
		<span style="color:#66d9ef">font-family</span>: iconfont;
		<span style="color:#66d9ef">margin-left</span>: <span style="color:#ae81ff">20</span>rpx;
	}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><h2 id="template-和-block-template-block">
  <code>&lt;template/&gt;</code> 和 <code>&lt;block/&gt;</code> @template-block
  <a class="anchor" href="#template-%e5%92%8c-block-template-block">#</a>
</h2>
<p><code>uni-app</code> 支持在 template 模板中嵌套 <code>&lt;template/&gt;</code> 和 <code>&lt;block/&gt;</code>，用来进行 <a href="/vue-basics?id=%e5%88%97%e8%a1%a8%e6%b8%b2%e6%9f%93">列表渲染</a> 和 <a href="/vue-basics?id=%e6%9d%a1%e4%bb%b6%e6%b8%b2%e6%9f%93">条件渲染</a>。</p>
<p><code>&lt;template/&gt;</code> 和 <code>&lt;block/&gt;</code> 并不是一个组件，它们仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。</p>
<p><code>&lt;block/&gt;</code> 在不同的平台表现存在一定差异，推荐统一使用 <code>&lt;template/&gt;</code>。</p>
<p><strong>代码示例</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">view</span>&gt;
		&lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test&#34;</span>&gt;
			&lt;<span style="color:#f92672">view</span>&gt;test 为 true 时显示&lt;/<span style="color:#f92672">view</span>&gt;
		&lt;/<span style="color:#f92672">template</span>&gt;
        &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-else</span>&gt;
        	&lt;<span style="color:#f92672">view</span>&gt;test 为 false 时显示&lt;/<span style="color:#f92672">view</span>&gt;
        &lt;/<span style="color:#f92672">template</span>&gt;
	&lt;/<span style="color:#f92672">view</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">view</span>&gt;
		&lt;<span style="color:#f92672">block</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(item,index) in list&#34;</span> <span style="color:#a6e22e">:key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;index&#34;</span>&gt;
			&lt;<span style="color:#f92672">view</span>&gt;{{item}} - {{index}}&lt;/<span style="color:#f92672">view</span>&gt;
		&lt;/<span style="color:#f92672">block</span>&gt;
    &lt;/<span style="color:#f92672">view</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
</code></pre></div><h2 id="es6-支持">
  ES6 支持
  <a class="anchor" href="#es6-%e6%94%af%e6%8c%81">#</a>
</h2>
<p>uni-app 在支持绝大部分 ES6 API 的同时，也支持了 ES7 的 await/async。</p>
<p>ES6 API 的支持，详见如下表格部分（<code>x</code> 表示不支持，无特殊说明则表示支持）：</p>
<ul>
<li>因为iOS上不允许三方js引擎，所以iOS上不区分App、小程序、H5，各端均仅依赖iOS版本。</li>
<li>各端Android版本有差异：</li>
</ul>
<ul>
<li>App端的数据见下表；</li>
<li>H5端数据见caniuse；</li>
<li>微信小程序<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/runtime/js-support.html#%E5%AE%A2%E6%88%B7%E7%AB%AF%20ES6%20API%20%E6%94%AF%E6%8C%81%E6%83%85%E5%86%B5">详见</a></li>
<li>阿里小程序<a href="https://docs.alipay.com/mini/framework/implementation-detail">详见</a></li>
<li>百度小程序<a href="https://smartprogram.baidu.com/docs/develop/framework/operating-environment/">详见</a></li>
<li>字节跳动小程序<a href="https://developer.toutiao.com/dev/cn/mini-app/develop/framework/mini-app-runtime/javascript-support">详见</a></li>
<li>QQ小程序<a href="https://q.qq.com/wiki/develop/miniprogram/frame/useful/useful_env.html#es6%E6%94%AF%E6%8C%81%E6%83%85%E5%86%B5">详见</a></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">String</th>
<th style="text-align:left">iOS8</th>
<th style="text-align:left">iOS9</th>
<th style="text-align:left">iOS10</th>
<th style="text-align:left">Android</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">codePointAt</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">normalize</td>
<td style="text-align:left">x</td>
<td style="text-align:left">x</td>
<td style="text-align:left"></td>
<td style="text-align:left">仅支持 NFD/NFC</td>
</tr>
<tr>
<td style="text-align:left">includes</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">startsWith</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">endsWith</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">repeat</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">String.fromCodePoint</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"> </td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Array</th>
<th style="text-align:left">iOS8</th>
<th style="text-align:left">iOS9</th>
<th style="text-align:left">iOS10</th>
<th style="text-align:left">Android</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">copyWithin</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">find</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">findIndex</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">fill</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">entries</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">keys</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">values</td>
<td style="text-align:left">x</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left">x</td>
</tr>
<tr>
<td style="text-align:left">includes</td>
<td style="text-align:left">x</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Array.from</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Array.of</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"> </td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Number</th>
<th style="text-align:left">iOS8</th>
<th style="text-align:left">iOS9</th>
<th style="text-align:left">iOS10</th>
<th style="text-align:left">Android</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">isFinite</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">isNaN</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">parseInt</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">parseFloat</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">isInteger</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">EPSILON</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">isSafeInteger</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"> </td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Math</th>
<th style="text-align:left">iOS8</th>
<th style="text-align:left">iOS9</th>
<th style="text-align:left">iOS10</th>
<th style="text-align:left">Android</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">trunc</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">sign</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">cbrt</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">clz32</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">imul</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">fround</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">hypot</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">expm1</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">log1p</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">log10</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">log2</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">sinh</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">cosh</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">tanh</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">asinh</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">acosh</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">atanh</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"> </td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Object</th>
<th style="text-align:left">iOS8</th>
<th style="text-align:left">iOS9</th>
<th style="text-align:left">iOS10</th>
<th style="text-align:left">Android</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">is</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">assign</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">getOwnPropertyDescriptor</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">keys</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">getOwnPropertyNames</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">getOwnPropertySymbols</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"> </td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:left">Other</th>
<th style="text-align:left">iOS8</th>
<th style="text-align:left">iOS9</th>
<th style="text-align:left">iOS10</th>
<th style="text-align:left">Android</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Symbol</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Set</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Map</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Proxy</td>
<td style="text-align:left">x</td>
<td style="text-align:left">x</td>
<td style="text-align:left"></td>
<td style="text-align:left">x</td>
</tr>
<tr>
<td style="text-align:left">Reflect</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Promise</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"> </td>
</tr>
</tbody>
</table>
<p><strong>注意</strong></p>
<ul>
<li>App端Android支持不依赖Android版本号，即便是Android4.4也是上表数据。因为uni-app的js代码运行在自带的独立jscore中，没有js的浏览器兼容性问题。uni-app的vue页面在Android低端机上只有css浏览器兼容性问题，因为vue页面仍然渲染在webview中，受Android版本影响，太新的css语法在低版本不支持。</li>
<li>默认不需要在微信工具里继续开启es6转换。但如果用了微信的wxml自定义组件（wxcomponents目录下），uni-app编译器并不会处理这些文件中的es6代码，需要去微信工具里开启转换。从HBuilderX调起微信工具时，如果发现工程下有wxcomponents目录会自动配置微信工程打开es6转换。</li>
</ul>
<h2 id="npm支持">
  NPM支持
  <a class="anchor" href="#npm%e6%94%af%e6%8c%81">#</a>
</h2>
<p>uni-app支持使用<strong>npm</strong>安装第三方包。</p>
<p>此文档要求开发者们对<strong>npm</strong>有一定的了解，因此不会再去介绍<strong>npm</strong>的基本功能。如若之前未接触过<strong>npm</strong>，请翻阅<a href="https://docs.npmjs.com/getting-started/what-is-npm">NPM官方文档</a>进行学习。</p>
<p><strong>初始化npm工程</strong></p>
<p>若项目之前未使用npm管理依赖（项目根目录下无package.json文件），先在项目根目录执行命令初始化npm工程：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm init -y
</code></pre></div><p>cli项目默认已经有package.json了。HBuilderX创建的项目默认没有，需要通过初始化命令来创建。</p>
<p><strong>安装依赖</strong></p>
<p>在项目根目录执行命令安装npm包：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install packageName --save
</code></pre></div><p><strong>使用</strong></p>
<p>安装完即可使用npm包，js中引入npm包：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#66d9ef">package</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;packageName&#39;</span>
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">package</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;packageName&#39;</span>)
</code></pre></div><p><strong>注意</strong></p>
<ul>
<li>为多端兼容考虑，建议优先从 <a href="https://ext.dcloud.net.cn/">uni-app插件市场</a> 获取插件。直接从 npm 下载库很容易只兼容H5端。</li>
<li>非 H5 端不支持使用含有 dom、window 等操作的 vue 组件和 js 模块，安装的模块及其依赖的模块使用的 API 必须是 uni-app 已有的 <a href="./api/README">API</a>（兼容小程序 API），比如：支持<a href="https://www.npmjs.com/package/amap-wx">高德地图微信小程序 SDK</a>。类似<a href="https://www.npmjs.com/package/jquery">jQuery</a> 等库只能用于H5端。</li>
<li>node_modules 目录必须在项目根目录下。不管是cli项目还是HBuilderX创建的项目。</li>
<li>支持安装 mpvue 组件，但npm方式不支持小程序自定义组件（如 wxml格式的vant-weapp），使用小程序自定义组件请参考：<a href="./frame?id=%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%BB%84%E4%BB%B6%E6%94%AF%E6%8C%81">小程序组件支持</a>。</li>
<li>关于ui库的获取，详见<a href="https://ask.dcloud.net.cn/article/35489">多端UI库</a></li>
</ul>
<h2 id="typescript-支持">
  TypeScript 支持
  <a class="anchor" href="#typescript-%e6%94%af%e6%8c%81">#</a>
</h2>
<p>在 uni-app 中使用 ts 开发，请参考 <a href="https://cn.vuejs.org/v2/guide/typescript.html">Vue.js TypeScript 支持</a> 说明。</p>
<p>类型定义文件由 @dcloudio/types 模块提供，安装后请注意配置 tsconfig.json 文件中的 compilerOptions &gt; types 部分，如需其他小程序平台类型定义也可以安装，如：miniprogram-api-typings、mini-types。对于缺少或者错误的类型定义，可以自行在本地新增或修改并同时报告给官方请求更新。</p>
<h3 id="注意事项">
  注意事项
  <a class="anchor" href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9">#</a>
</h3>
<p>在 uni-app 中使用 ts 需要注意以下事项。</p>
<h4 id="在-vue-文件的-script-节点声明-langtsvue-ts">
  在 vue 文件的 script 节点声明 lang=&ldquo;ts&rdquo;@vue-ts
  <a class="anchor" href="#%e5%9c%a8-vue-%e6%96%87%e4%bb%b6%e7%9a%84-script-%e8%8a%82%e7%82%b9%e5%a3%b0%e6%98%8e-langtsvue-ts">#</a>
</h4>
<p>声明 <code>lang=&quot;ts&quot;</code> 后，该 vue 文件 import 进来的所有 vue 组件，均需要使用 ts 编写。</p>
<p><strong>示例代码</strong></p>
<p>改造 uni-badge.vue</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ts&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#75715e">// 仅展示需要修改的核心代码，完整代码请参考原来的组件。
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>;
	<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">extend</span>({
		<span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
			<span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> {
				<span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> String,
				<span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;default&#39;</span>
			},
			<span style="color:#a6e22e">inverted</span><span style="color:#f92672">:</span> {
				<span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> Boolean,
				<span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
			},
			<span style="color:#a6e22e">text</span><span style="color:#f92672">:</span> {
				<span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> [String, Number],
				<span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>
			},
			<span style="color:#a6e22e">size</span><span style="color:#f92672">:</span> {
				<span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> String,
				<span style="color:#66d9ef">default</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;normal&#39;</span>
			}
		},
		<span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
			<span style="color:#a6e22e">setClass</span>()<span style="color:#f92672">:</span> <span style="color:#a6e22e">string</span> {
				<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">classList</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">string</span>[] <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;uni-badge-&#39;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">type</span>, <span style="color:#e6db74">&#39;uni-badge-size-&#39;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">size</span>];
				<span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">inverted</span> <span style="color:#f92672">===</span> <span style="color:#66d9ef">true</span>) {
					<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;uni-badge-inverted&#39;</span>)
				}
				<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#34; &#34;</span>)
			}
		},
		<span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
			<span style="color:#a6e22e">onClick</span>() {
				<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$emit</span>(<span style="color:#e6db74">&#39;click&#39;</span>)
			}
		}
	})
<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/script&gt;</span>
</code></pre></div><p>在 index.vue 中引用 uni-badge 组件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ts&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>;
	<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">uniBadge</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;../../components/uni-badge.vue&#39;</span>;
	<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">extend</span>({
		<span style="color:#a6e22e">data</span>() {
			<span style="color:#66d9ef">return</span> {
				<span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Hello&#39;</span>
			}
		},
		<span style="color:#a6e22e">components</span><span style="color:#f92672">:</span>{
			<span style="color:#a6e22e">uniBadge</span>
		}
	});
<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/script&gt;</span>
</code></pre></div><h2 id="小程序组件支持">
  小程序组件支持
  <a class="anchor" href="#%e5%b0%8f%e7%a8%8b%e5%ba%8f%e7%bb%84%e4%bb%b6%e6%94%af%e6%8c%81">#</a>
</h2>
<p><code>uni-app</code> 支持在 App 和 小程序 中使用<strong>小程序自定义组件</strong>，从HBuilderX2.4.7起，H5端也可以运行微信小程序组件。</p>
<p><strong>平台差异说明</strong></p>
<table>
<thead>
<tr>
<th>平台</th>
<th>支持情况</th>
<th>小程序组件存放目录</th>
</tr>
</thead>
<tbody>
<tr>
<td>H5</td>
<td>支持微信小程序组件（2.4.7+）</td>
<td>wxcomponents</td>
</tr>
<tr>
<td>App（不含nvue）</td>
<td>支持微信小程序组件</td>
<td>wxcomponents</td>
</tr>
<tr>
<td>微信小程序</td>
<td>支持微信小程序组件</td>
<td>wxcomponents</td>
</tr>
<tr>
<td>支付宝小程序</td>
<td>支持支付宝小程序组件</td>
<td>mycomponents</td>
</tr>
<tr>
<td>百度小程序</td>
<td>支持百度小程序组件</td>
<td>swancomponents</td>
</tr>
<tr>
<td>字节跳动小程序</td>
<td>支持字节跳动小程序组件</td>
<td>ttcomponents</td>
</tr>
<tr>
<td>QQ小程序</td>
<td>支持QQ小程序组件</td>
<td>wxcomponents</td>
</tr>
</tbody>
</table>
<p>此文档要求开发者对各端小程序的<strong>自定义组件</strong>有一定了解，没接触过小程序<strong>自定义组件</strong>的可以参考：</p>
<ul>
<li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/">微信小程序自定义组件</a></li>
<li><a href="https://smartprogram.baidu.com/docs/develop/framework/custom-component/">百度小程序自定义组件</a></li>
<li><a href="https://docs.alipay.com/mini/framework/custom-component-overview">支付宝小程序自定义组件</a></li>
<li><a href="https://developer.toutiao.com/docs/framework/custom_component_intro.html">字节跳动小程序自定义组件</a></li>
<li><a href="https://q.qq.com/wiki/develop/miniprogram/frame/diy_components/">QQ小程序自定义组件</a></li>
</ul>
<p><strong>目录结构</strong></p>
<pre v-pre="" data-lang="">
	<code class="lang-" style="padding:0">
┌─wxcomponents                  微信小程序自定义组件存放目录
│   └──custom                   微信小程序自定义组件
│		├─index.js
│		├─index.wxml
│		├─index.json
│		└─index.wxss
├─mycomponents                  支付宝小程序自定义组件存放目录
│   └──custom                   支付宝小程序自定义组件
│		├─index.js
│		├─index.axml
│		├─index.json
│		└─index.acss
├─swancomponents                百度小程序自定义组件存放目录
│   └──custom                   百度小程序自定义组件
│		├─index.js
│		├─index.swan
│		├─index.json
│		└─index.css
├─pages
│  └─index
│		└─index.vue
│
├─static
├─main.js
├─App.vue
├─manifest.json
└─pages.json
	</code>
</pre>
<p><strong>使用方式</strong></p>
<p>在 <code>pages.json</code> 对应页面的 style -&gt; usingComponents 引入组件：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
	<span style="color:#e6db74">&#34;pages&#34;</span><span style="color:#f92672">:</span> [{
		<span style="color:#e6db74">&#34;path&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;index/index&#34;</span>,
		<span style="color:#e6db74">&#34;style&#34;</span><span style="color:#f92672">:</span> {
			<span style="color:#75715e">// #ifdef APP-PLUS || H5 || MP-WEIXIN || MP-QQ
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;usingComponents&#34;</span><span style="color:#f92672">:</span> {
				<span style="color:#e6db74">&#34;custom&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/wxcomponents/custom/index&#34;</span>
			},
			<span style="color:#75715e">// #endif
</span><span style="color:#75715e"></span>			<span style="color:#75715e">// #ifdef MP-BAIDU
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;usingComponents&#34;</span><span style="color:#f92672">:</span> {
				<span style="color:#e6db74">&#34;custom&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/swancomponents/custom/index&#34;</span>
			},
			<span style="color:#75715e">// #endif
</span><span style="color:#75715e"></span>			<span style="color:#75715e">// #ifdef MP-ALIPAY
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;usingComponents&#34;</span><span style="color:#f92672">:</span> {
				<span style="color:#e6db74">&#34;custom&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/mycomponents/custom/index&#34;</span>
			},
			<span style="color:#75715e">// #endif
</span><span style="color:#75715e"></span>			<span style="color:#e6db74">&#34;navigationBarTitleText&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;uni-app&#34;</span>
		}
	}]
}

</code></pre></div><p>在页面中使用</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 页面模板 (index.vue) --&gt;</span>
&lt;<span style="color:#f92672">view</span>&gt;
    <span style="color:#75715e">&lt;!-- 在页面中对自定义组件进行引用 --&gt;</span>
    &lt;<span style="color:#f92672">custom</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;uni-app&#34;</span>&gt;&lt;/<span style="color:#f92672">custom</span>&gt;
&lt;/<span style="color:#f92672">view</span>&gt;
</code></pre></div><p><strong>代码示例</strong></p>
<p>下面以微信小程序官方自定义组件示例 <a href="https://github.com/wechat-miniprogram/slide-view">miniprogram-slide-view</a> 为例演示小程序自定义组件的使用方式。
其他组件使用示例见GitHub：<a href="https://github.com/dcloudio/uni-app/tree/master/examples/wxcomponents-template">wxcomponents-template</a>。
插件市场有一个完整的<code>vant weapp</code> 引用好的示例工程，详见<a href="https://ext.dcloud.net.cn/plugin?id=302">https://ext.dcloud.net.cn/plugin?id=302</a>。</p>
<p>目录结构</p>
<pre v-pre="" data-lang="">
	<code class="lang-" style="padding:0">
┌─components
├─wxcomponents
│   └──miniprogram-slide-view
│		├─index.js
│		├─index.wxml
│		├─index.json
│		└─index.wxss
│
├─pages
│  └─slide-view
│		└─slide-view.vue
│
├─static
├─main.js
├─App.vue
├─manifest.json
└─pages.json
	</code>
</pre>
<p>pages.json</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;pages&#34;</span>: [
        {
        	<span style="color:#f92672">&#34;path&#34;</span>: <span style="color:#e6db74">&#34;slide-view/slide-view&#34;</span>,
        	<span style="color:#f92672">&#34;style&#34;</span>: {
        		<span style="color:#f92672">&#34;navigationBarTitleText&#34;</span>: <span style="color:#e6db74">&#34;slide-view&#34;</span>,
        		<span style="color:#f92672">&#34;usingComponents&#34;</span>: {
        			<span style="color:#f92672">&#34;slide-view&#34;</span>: <span style="color:#e6db74">&#34;/wxcomponents/miniprogram-slide-view/index&#34;</span>
        		}
        	}
        }
    ]
}
</code></pre></div><p>slide-view.vue</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;slide&#39;</span>&gt;
		&lt;<span style="color:#f92672">slide-view</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;750&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;110&#34;</span> <span style="color:#a6e22e">slide-width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span>&gt;
			&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;left&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;l&#34;</span>&gt;
				&lt;<span style="color:#f92672">image</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/static/file_transfer.jpg&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;img&#34;</span>&gt;&lt;/<span style="color:#f92672">image</span>&gt;
				&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;text&#39;</span>&gt;
					&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;title&#39;</span>&gt;文件传输助手&lt;/<span style="color:#f92672">view</span>&gt;
					&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;time&#39;</span>&gt;7:00 PM&lt;/<span style="color:#f92672">view</span>&gt;
				&lt;/<span style="color:#f92672">view</span>&gt;
			&lt;/<span style="color:#f92672">view</span>&gt;
			&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">slot</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;right&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;r&#34;</span>&gt;
				&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;read&#39;</span>&gt;标为已读&lt;/<span style="color:#f92672">view</span>&gt;
				&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;delete&#39;</span>&gt;删除&lt;/<span style="color:#f92672">view</span>&gt;
			&lt;/<span style="color:#f92672">view</span>&gt;
		&lt;/<span style="color:#f92672">slide-view</span>&gt;
	&lt;/<span style="color:#f92672">view</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
	<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {}
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">style</span>&gt;
	.<span style="color:#a6e22e">slide</span> {
		<span style="color:#66d9ef">border-bottom</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#DEDEDE</span>;
	}
	.<span style="color:#a6e22e">l</span> {
		<span style="color:#66d9ef">background-color</span>: <span style="color:#66d9ef">white</span>;
		<span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">110</span>rpx;
		<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">750</span>rpx;
		<span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
		<span style="color:#66d9ef">flex-direction</span>: <span style="color:#66d9ef">row</span>;
	}
	.<span style="color:#a6e22e">r</span> {
		<span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">110</span>rpx;
		<span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
		<span style="color:#66d9ef">direction</span>: <span style="color:#66d9ef">row</span>;
		<span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>;
		<span style="color:#66d9ef">vertical-align</span>: <span style="color:#66d9ef">middle</span>;
		<span style="color:#66d9ef">line-height</span>: <span style="color:#ae81ff">110</span>rpx;
	}
	.<span style="color:#a6e22e">read</span> {
		<span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#ccc</span>;
		<span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#fff</span>;
		<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">350</span>rpx;
	}
	.<span style="color:#a6e22e">delete</span> {
		<span style="color:#66d9ef">background-color</span>: <span style="color:#66d9ef">red</span>;
		<span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#fff</span>;
		<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">150</span>rpx;
	}
	.<span style="color:#a6e22e">img</span> {
		<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">90</span>rpx;
		<span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">90</span>rpx;
		<span style="color:#66d9ef">border-radius</span>: <span style="color:#ae81ff">10</span>rpx;
		<span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">10</span>rpx <span style="color:#ae81ff">15</span>rpx;
	}
	.<span style="color:#a6e22e">text</span> {
		<span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
		<span style="color:#66d9ef">flex-direction</span>: <span style="color:#66d9ef">row</span>;
	}

	.<span style="color:#a6e22e">title</span> {
		<span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">15</span>rpx;
		<span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">33</span>rpx;
	}
	.<span style="color:#a6e22e">time</span> {
		<span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">15</span>rpx;
		<span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#ccc</span>;
		<span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">25</span>rpx;
		<span style="color:#66d9ef">margin-left</span>: <span style="color:#ae81ff">330</span>rpx;
	}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p><strong>注意事项</strong></p>
<ul>
<li>小程序组件需要放在项目特殊文件夹 <code>wxcomponents</code>（或 mycomponents、swancomponents）。HBuilderX 建立的工程 <code>wxcomponents</code> 文件夹在 项目根目录下。vue-cli 建立的工程 <code>wxcomponents</code> 文件夹在 <code>src</code> 目录下。可以在 vue.config.js 中自定义其他目录</li>
<li>小程序组件的性能，不如vue组件。使用小程序组件，需要自己手动setData，很难自动管理差量数据更新。而使用vue组件会自动diff更新差量数据。所以如无明显必要，建议使用vue组件而不是小程序组件。比如某些小程序ui组件，完全可以用更高性能的uni ui替代。</li>
<li>当需要在 <code>vue</code> 组件中使用小程序组件时，注意在 <code>pages.json</code> 的 <code>globalStyle</code> 中配置 <code>usingComponents</code>，而不是页面级配置。</li>
<li>注意数据和事件绑定的差异，组件使用时应按照 <code>vue</code> 的数据和事件绑定方式
<ul>
<li>属性绑定从 <code>attr=&quot;{{ a }}&quot;</code>，改为 <code>:attr=&quot;a&quot;</code>；从 <code>title=&quot;复选框{{ item }}&quot;</code> 改为 <code>:title=&quot;'复选框' + item&quot;</code></li>
<li>事件绑定从 <code>bind:click=&quot;toggleActionSheet1&quot;</code> 改为 <code>@click=&quot;toggleActionSheet1&quot;</code>，目前支付宝小程序不支持 <code>vue</code> 的事件绑定方式，具体参考：<a href="https://github.com/dcloudio/uni-app/issues/917#issuecomment-653329693">支付宝小程序组件事件监听示例</a></li>
<li>阻止事件冒泡 从 <code>catch:tap=&quot;xx&quot;</code> 改为 <code>@tap.native.stop=&quot;xx&quot;</code></li>
<li><code>wx:if</code> 改为 <code>v-if</code></li>
<li><code>wx:for=&quot;{{ list }}&quot; wx:key=&quot;{{ index }}&quot;</code> 改为<code>v-for=&quot;(item,index) in list&quot;</code></li>
</ul>
</li>
</ul>
<p>详细的小程序转uni-app语法差异可参考文档<a href="https://ask.dcloud.net.cn/article/35786">https://ask.dcloud.net.cn/article/35786</a>。</p>
<h2 id="wxs">
  WXS
  <a class="anchor" href="#wxs">#</a>
</h2>
<p>WXS是一套运行在视图层的脚本语言，<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxs/">微信端的规范详见</a>。</p>
<p>它的特点是运行在视图层。当需要避免逻辑层和渲染层交互通信折损时，可采用wxs。</p>
<p>uni-app可以将wxs代码编译到微信小程序、QQ小程序、app-vue、H5上（<code>uni-app 2.2.5</code>及以上版本）</p>
<p>与wxs类似，百度小程序提供了Filter、阿里小程序提供了SJS，uni-app也支持使用这些功能，并将它们编译到百度和阿里的小程序端。不过它们的功能还不如wxs强大。此外头条系小程序自身不支持类似功能。</p>
<p><strong>平台差异说明</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">App</th>
<th style="text-align:center">H5</th>
<th style="text-align:center">微信小程序</th>
<th style="text-align:center">支付宝小程序</th>
<th style="text-align:center">百度小程序</th>
<th style="text-align:center">字节跳动小程序</th>
<th style="text-align:center">QQ小程序</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">√(不支持nvue)</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
<td style="text-align:center">SJS</td>
<td style="text-align:center">Filter</td>
<td style="text-align:center">x</td>
<td style="text-align:center">√</td>
</tr>
</tbody>
</table>
<p>App端nvue解决此类需求，不应该使用wxs，而是使用bindingx。</p>
<p><strong>wxs示例</strong></p>
<p>以下是一些使用 WXS 的简单示例，要完整了解 WXS 语法，请参考<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxs/">WXS 语法参考</a>。本示例使用wxs响应<code>touchmove</code>事件，减少视图层与逻辑层通信，使滑动更加丝滑。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">view</span>&gt;
		&lt;<span style="color:#f92672">view</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;area&#34;</span>&gt;
			&lt;<span style="color:#f92672">view</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">touchstart</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test.touchstart&#34;</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">touchmove</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test.touchmove&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;movable&#34;</span>&gt;{{test.msg}}&lt;/<span style="color:#f92672">view</span>&gt;
		&lt;/<span style="color:#f92672">view</span>&gt;
	&lt;/<span style="color:#f92672">view</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test&#34;</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wxs&#34;</span>&gt;
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">startX</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">startY</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">lastLeft</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>; <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">lastTop</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>
	<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">touchstart</span>(<span style="color:#a6e22e">event</span>, <span style="color:#a6e22e">ins</span>) {
		<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;touchstart&#34;</span>)
	  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">touch</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">touches</span>[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">||</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">changedTouches</span>[<span style="color:#ae81ff">0</span>]
	  <span style="color:#a6e22e">startX</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">touch</span>.<span style="color:#a6e22e">pageX</span>
	  <span style="color:#a6e22e">startY</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">touch</span>.<span style="color:#a6e22e">pageY</span>
	}
	<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">touchmove</span>(<span style="color:#a6e22e">event</span>, <span style="color:#a6e22e">ins</span>) {
	  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">touch</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">touches</span>[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">||</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">changedTouches</span>[<span style="color:#ae81ff">0</span>]
	  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pageX</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">touch</span>.<span style="color:#a6e22e">pageX</span>
	  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pageY</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">touch</span>.<span style="color:#a6e22e">pageY</span>
	  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">left</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pageX</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">startX</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">lastLeft</span>
	  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">top</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pageY</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">startY</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">lastTop</span>
	  <span style="color:#a6e22e">startX</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pageX</span>
	  <span style="color:#a6e22e">startY</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pageY</span>
	  <span style="color:#a6e22e">lastLeft</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">left</span>
	  <span style="color:#a6e22e">lastTop</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">top</span>
	  <span style="color:#a6e22e">ins</span>.<span style="color:#a6e22e">selectComponent</span>(<span style="color:#e6db74">&#39;.movable&#39;</span>).<span style="color:#a6e22e">setStyle</span>({
	    <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">left</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;px&#39;</span>,
	    <span style="color:#a6e22e">top</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">top</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;px&#39;</span>
	  })
		<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>
	}
	<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
		<span style="color:#a6e22e">msg</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Hello&#39;</span>,
	  <span style="color:#a6e22e">touchstart</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">touchstart</span>,
	  <span style="color:#a6e22e">touchmove</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">touchmove</span>
	}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
	<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
		<span style="color:#a6e22e">data</span>() {
			<span style="color:#66d9ef">return</span> {
			}
		},
		<span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
		}
	}
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span>&gt;
.<span style="color:#a6e22e">area</span>{
	<span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
	<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
	<span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
}
.<span style="color:#a6e22e">movable</span>{
	<span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
	<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">px</span>;
	<span style="color:#66d9ef">height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">px</span>;
	<span style="color:#66d9ef">left</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">px</span>;
	<span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">50</span><span style="color:#66d9ef">px</span>;
	<span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">white</span>;
	<span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>;
	<span style="color:#66d9ef">line-height</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">px</span>;
	<span style="color:#66d9ef">background-color</span>: <span style="color:#66d9ef">red</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>支付宝小程序，百度小程序官方暂未支持事件响应，不过也可以使用对应的SJS、Filter过滤器实现一些数据处理的操作，以下代码展示了一个时间格式化的小功能</p>
<p><code>index.vue</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">view</span>&gt;
		&lt;<span style="color:#f92672">view</span>&gt;
			{{timestr}} 是
		&lt;/<span style="color:#f92672">view</span>&gt;
		&lt;<span style="color:#f92672">view</span>&gt;
			{{utils.friendlyDate(timestamp)}}
		&lt;/<span style="color:#f92672">view</span>&gt;
	&lt;/<span style="color:#f92672">view</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utils&#34;</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;filter&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./utils.filter.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utils&#34;</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sjs&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./utils.sjs&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
	<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
		<span style="color:#a6e22e">data</span>() {
			<span style="color:#66d9ef">return</span> {
				<span style="color:#a6e22e">timestr</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;2019/08/22 10:10:10&#39;</span>,
				<span style="color:#a6e22e">timestamp</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>
			}
		},
		<span style="color:#a6e22e">created</span>() {
			<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">timestamp</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">timestr</span>).<span style="color:#a6e22e">getTime</span>()
		},
		<span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
		}
	}
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p><code>utils.sjs</code> 与 <code>utils.filter.js</code> 内容一致</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
	<span style="color:#a6e22e">friendlyDate</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">timestamp</span>) =&gt; {
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">formats</span> <span style="color:#f92672">=</span> {
			<span style="color:#e6db74">&#39;year&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;%n% 年前&#39;</span>,
			<span style="color:#e6db74">&#39;month&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;%n% 月前&#39;</span>,
			<span style="color:#e6db74">&#39;day&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;%n% 天前&#39;</span>,
			<span style="color:#e6db74">&#39;hour&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;%n% 小时前&#39;</span>,
			<span style="color:#e6db74">&#39;minute&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;%n% 分钟前&#39;</span>,
			<span style="color:#e6db74">&#39;second&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;%n% 秒前&#39;</span>,
		};
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">now</span> <span style="color:#f92672">=</span> Date.<span style="color:#a6e22e">now</span>();
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">seconds</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">now</span> <span style="color:#f92672">-</span> parseInt(<span style="color:#a6e22e">timestamp</span>)) <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000</span>);
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">minutes</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">seconds</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">60</span>);
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">hours</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">minutes</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">60</span>);
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">days</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">hours</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">24</span>);
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">months</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">days</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">30</span>);
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">years</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">months</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">12</span>);

		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">diffType</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">diffValue</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
		<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">years</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
			<span style="color:#a6e22e">diffType</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;year&#39;</span>;
			<span style="color:#a6e22e">diffValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">years</span>;
		} <span style="color:#66d9ef">else</span> {
			<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">months</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
				<span style="color:#a6e22e">diffType</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;month&#39;</span>;
				<span style="color:#a6e22e">diffValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">months</span>;
			} <span style="color:#66d9ef">else</span> {
				<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">days</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
					<span style="color:#a6e22e">diffType</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;day&#39;</span>;
					<span style="color:#a6e22e">diffValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">days</span>;
				} <span style="color:#66d9ef">else</span> {
					<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">hours</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
						<span style="color:#a6e22e">diffType</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;hour&#39;</span>;
						<span style="color:#a6e22e">diffValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">hours</span>;
					} <span style="color:#66d9ef">else</span> {
						<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">minutes</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
							<span style="color:#a6e22e">diffType</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;minute&#39;</span>;
							<span style="color:#a6e22e">diffValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">minutes</span>;
						} <span style="color:#66d9ef">else</span> {
							<span style="color:#a6e22e">diffType</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;second&#39;</span>;
							<span style="color:#a6e22e">diffValue</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">seconds</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">?</span> (<span style="color:#a6e22e">seconds</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">:</span> <span style="color:#a6e22e">seconds</span>;
						}
					}
				}
			}
		}
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">formats</span>[<span style="color:#a6e22e">diffType</span>].<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;%n%&#39;</span>, <span style="color:#a6e22e">diffValue</span>);
	}
}
</code></pre></div><p><strong>注意</strong></p>
<p>引入方式</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- 内联 --&gt;</span>
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test&#34;</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wxs&#34;</span>&gt;
  <span style="color:#75715e">//...code
</span><span style="color:#75715e"></span>&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utils&#34;</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;filter&#34;</span>&gt;
  <span style="color:#75715e">//...code
</span><span style="color:#75715e"></span>&lt;/<span style="color:#f92672">script</span>&gt;


<span style="color:#75715e">&lt;!-- 外部引入 --&gt;</span>
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utils&#34;</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wxs&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./utils.wxs&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utils&#34;</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;filter&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./utils.filter.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utils&#34;</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sjs&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./utils.sjs&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><ul>
<li><strong>【重要】</strong> 编写wxs、sjs、filter.js 内容时必须遵循相应语法规范</li>
<li><strong>【重要】</strong> <code>module</code>所指定的模块名不可与<code>data</code>、<code>methods</code>、<code>computed</code>内的属性重名</li>
<li>目前各个小程序正在完善相关规范，可能会有较大改动，请务必仔细阅读相应平台的文档</li>
<li>支付宝小程序请使用sjs规范，<a href="https://docs.alipay.com/mini/framework/sjs">详见</a></li>
<li>支付宝小程序sjs只能定义在.sjs 文件中，然后使用<code>&lt;script&gt;</code>标签引入</li>
<li>支付宝小程序<code>script</code>的标签属性<code>name</code>、<code>from</code>被统一为了<code>module</code>、<code>src</code>以便后续实现多平台统一写法</li>
<li>百度小程序中请使用Filter规范，<a href="https://smartprogram.baidu.com/docs/develop/framework/view_filter/">详见</a></li>
<li>百度小程序Filter只能导出<code>function</code>函数</li>
<li>暂不支持在 wxs、sjs、filter.js 中调用其他同类型文件</li>
<li>wxs、filter.js既能内联使用又可以外部引入，sjs只能外部引入</li>
<li>QQ小程序目前对内联的 wxs 支持不好，部分写法可能会导致编译出错，尽量使用外部引入的方式</li>
<li>在微信自定义组件中<code>wxcomponents</code>也可以使用wxs</li>
<li><code>nvue</code>页面暂不支持wxs、sjs、filter.js</li>
<li>各个<code>script</code>标签会分别被打包至对应支持平台，不需要额外写条件编译</li>
<li>自<code>HBuilderX 2.2.5</code>开始，不推荐使用各个小程序自有的引入方式，推荐使用<code>script</code>标签引入</li>
<li>App和H5端，提供了wxs的升级版，更加强大，见下面的 <a href="?id=renderjs">renderjs</a> 章节</li>
</ul>
<h2 id="renderjs">
  renderjs
  <a class="anchor" href="#renderjs">#</a>
</h2>
<p><code>renderjs</code>是一个运行在视图层的js。它比<a href="?id=wxs">WXS</a>更加强大。它只支持app-vue和h5。</p>
<p><code>renderjs</code>的主要作用有2个：</p>
<ul>
<li>大幅降低逻辑层和视图层的通讯损耗，提供高性能视图交互能力</li>
<li>在视图层操作dom，运行for web的js库</li>
</ul>
<p><strong>平台差异说明</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">App</th>
<th style="text-align:center">H5</th>
<th style="text-align:center">微信小程序</th>
<th style="text-align:center">支付宝小程序</th>
<th style="text-align:center">百度小程序</th>
<th style="text-align:center">字节跳动小程序</th>
<th style="text-align:center">QQ小程序</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">√(2.5.5+，仅支持vue，并要求v3编译器)</td>
<td style="text-align:center">√</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
</tr>
</tbody>
</table>
<h3 id="使用方式">
  使用方式
  <a class="anchor" href="#%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f">#</a>
</h3>
<p>设置 script 节点的 lang 为 renderjs</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">module</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;test&#34;</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;renderjs&#34;</span>&gt;
	<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
		<span style="color:#a6e22e">mounted</span>() {
			<span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>		},
		<span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
			<span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>		}
	}
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><h3 id="示例">
  示例
  <a class="anchor" href="#%e7%a4%ba%e4%be%8b">#</a>
</h3>
<ul>
<li><a href="https://ext.dcloud.net.cn/plugin?id=1207">通过renderjs，在app和h5端使用完整的 <code>echarts</code></a></li>
</ul>
<h3 id="功能详解">
  功能详解
  <a class="anchor" href="#%e5%8a%9f%e8%83%bd%e8%af%a6%e8%a7%a3">#</a>
</h3>
<ul>
<li>大幅降低逻辑层和视图层的通讯损耗，提供高性能视图交互能力</li>
</ul>
<p>逻辑层和视图层分离有很多好处，但也有一个副作用是在造成了两层之间通信阻塞。尤其是小程序和App的Android端阻塞问题影响了高性能应用的制作。</p>
<p><code>renderjs</code>运行在视图层，可以直接操作视图层的元素，避免通信折损。</p>
<p>在hello uni-app的canvas示例中，App端使用了<code>renderjs</code>，由运行在视图层的<code>renderjs</code>直接操作视图层的canvas，实现了远超微信小程序的流畅canvas动画示例。具体在<a href="https://m3w.cn/uniapp">hello uni-app</a>示例中体验，对比App端和小程序端的性能差异。</p>
<ul>
<li>在视图层操作dom，运行for web的js库
官方不建议在uni-app里操作dom，但如果你不开发小程序，想使用一些操作了dom、window的库，其实可以使用<code>renderjs</code>来解决。</li>
</ul>
<p>在app-vue环境下，视图层由webview渲染，而<code>renderjs</code>运行在视图层，自然可以操作dom和window。</p>
<p>这是一个基于<code>renderjs</code>运行echart完整版的示例：<a href="https://ext.dcloud.net.cn/plugin?id=1207">renderjs版echart</a></p>
<p>同理，<code>f2</code>、<code>threejs</code>等库都可以这么用。</p>
<h3 id="注意事项-1">
  注意事项
  <a class="anchor" href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9-1">#</a>
</h3>
<ul>
<li>目前仅支持内联使用。</li>
<li>不要直接引用大型类库，推荐通过动态创建 script 方式引用。</li>
<li>可以使用 vue 组件的生命周期不可以使用 App、Page 的生命周期</li>
<li>视图层和逻辑层通讯方式与 <a href="frame?id=wxs">WXS</a> 一致，另外可以通过 this.$ownerInstance 获取当前组件的 ComponentDescriptor 实例。</li>
<li>观测更新的数据在视图层可以直接访问到。</li>
<li>APP 端视图层的页面引用资源的路径相对于根目录计算，例如：./static/test.js。</li>
<li>APP 端可以使用 dom、bom API，不可直接访问逻辑层数据，不可以使用 uni 相关接口（如：uni.request）</li>
<li>H5 端逻辑层和视图层实际运行在同一个环境中，相当于使用 mixin 方式，可以直接访问逻辑层数据。</li>
</ul>
<h2 id="致谢">
  致谢
  <a class="anchor" href="#%e8%87%b4%e8%b0%a2">#</a>
</h2>
<p><code>uni-app</code>使用 <code>vue</code> 语法，开发多端应用，感谢<code>Vue</code>团队！！</p>
<p>为了减少开发者的学习成本，<code>uni-app</code>的组件和api设计，基本参考了微信小程序，学过微信小程序开发，了解<code>vue</code>，就能直接上手<code>uni-app</code>；感谢微信小程序团队！</p>
<p><code>uni-app</code> 在小程序端，学习参考了<a href="https://mpvue.com/">mpvue</a>及<a href="https://megalojs.org/">Megalo</a>，感谢美团点评技术团队、网易考拉团队!</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#开发规范">开发规范</a></li>
        <li><a href="#目录结构">目录结构</a></li>
        <li><a href="#资源路径说明">资源路径说明</a>
          <ul>
            <li><a href="#模板内引入静态资源">模板内引入静态资源</a></li>
            <li><a href="#js文件引入">js文件引入</a></li>
            <li><a href="#css引入静态资源">css引入静态资源</a></li>
          </ul>
        </li>
        <li><a href="#生命周期">生命周期</a>
          <ul>
            <li><a href="#应用生命周期">应用生命周期</a></li>
            <li><a href="#页面生命周期">页面生命周期</a></li>
          </ul>
        </li>
        <li><a href="#路由">路由</a>
          <ul>
            <li><a href="#路由跳转">路由跳转</a></li>
            <li><a href="#页面栈">页面栈</a></li>
          </ul>
        </li>
        <li><a href="#运行环境判断">运行环境判断</a>
          <ul>
            <li><a href="#开发环境和生产环境">开发环境和生产环境</a></li>
            <li><a href="#判断平台">判断平台</a></li>
          </ul>
        </li>
        <li><a href="#页面样式与布局">页面样式与布局</a>
          <ul>
            <li><a href="#尺寸单位">尺寸单位</a></li>
            <li><a href="#样式导入">样式导入</a></li>
            <li><a href="#内联样式">内联样式</a></li>
            <li><a href="#选择器">选择器</a></li>
            <li><a href="#全局样式与局部样式">全局样式与局部样式</a></li>
            <li><a href="#css变量">CSS变量</a></li>
            <li><a href="#固定值">固定值</a></li>
            <li><a href="#flex布局">Flex布局</a></li>
            <li><a href="#背景图片">背景图片</a></li>
            <li><a href="#字体图标">字体图标</a></li>
          </ul>
        </li>
        <li><a href="#template-和-block-template-block"><code>&lt;template/&gt;</code> 和 <code>&lt;block/&gt;</code> @template-block</a></li>
        <li><a href="#es6-支持">ES6 支持</a></li>
        <li><a href="#npm支持">NPM支持</a></li>
        <li><a href="#typescript-支持">TypeScript 支持</a>
          <ul>
            <li><a href="#注意事项">注意事项</a></li>
          </ul>
        </li>
        <li><a href="#小程序组件支持">小程序组件支持</a></li>
        <li><a href="#wxs">WXS</a></li>
        <li><a href="#renderjs">renderjs</a>
          <ul>
            <li><a href="#使用方式">使用方式</a></li>
            <li><a href="#示例">示例</a></li>
            <li><a href="#功能详解">功能详解</a></li>
            <li><a href="#注意事项-1">注意事项</a></li>
          </ul>
        </li>
        <li><a href="#致谢">致谢</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












