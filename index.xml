<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>易才批量代付概况 on 易才批量代付项目</title>
    <link>https://example.com/</link>
    <description>Recent content in 易才批量代付概况 on 易才批量代付项目</description>
    <generator>Hugo -- gohugo.io</generator><atom:link href="https://example.com/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>HRO接口文档</title>
      <link>https://example.com/docs/API/HRO%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/API/HRO%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/</guid>
      <description>易才代收付API#修订记录
   版本号 更新日期 更新人 更新内容     v0.7 2021-01-18 赵磊 增加对账接口   v0.6 2021-01-14 赵磊 明确交易状态；增加批次失败信息；调整附言位置；   v0.5 2021-01-13 赵磊 diskResult/diskNotify增加diskMessage；增加账户类型   v0.4 2021-01-12 赵磊 refundQuery增加页码、总页数、当前页码   v0.3 2021-01-11 赵磊 titleSync去除费项代码，增加账户类型   v0.2 2021-01-11 赵磊 支付地增加代付默认配置   v0.1 2020-12-29 赵磊 初稿    [TOC]
接口设计#报文头#报文头格式为：“&amp;lt;head&amp;gt;报文头内容&amp;lt;/head&amp;gt;”，内容结构详见接口设计部分公共报文头
报文体#报文体主要用于传输业务数据信息，格式为：“&amp;lt;body&amp;gt;报文体内容&amp;lt;/body&amp;gt;”</description>
    </item>
    
    <item>
      <title>任务分配</title>
      <link>https://example.com/docs/%E5%BC%80%E5%8F%91/task/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/%E5%BC%80%E5%8F%91/task/</guid>
      <description>HRO API# 详参考《HRO接口文档》
    任务名称 描述 负责人 进度     diskApply 批量代付申请 王磊 30%   diskResult 批量代付结果查询 王磊 0%   diskNotify 批次终态通知 王磊 0%   refundQuery 退票查询 赵林林 30%   customerSync 客户信息同步 赵林林 30%   titleSync 支付地账户信息同步 赵林林 30%   transStsSync 业务状态同步 王磊 0%   cardInfoQuery 卡信息查询 赵林林 30%    UI#   任务名称 描述 负责人 进度     UI Revision Flex翻写 左登红 70%   corgRiskRefactor 机构风控改造 左登红 0%   customerBrowse 客户信息浏览 左登红 0%   customerRiskManager 客户风控管理 左登红 0%   titleBrowse 支付地抬头浏览 左登红 0%   routerRefactor 路由改造（增加汇路） 左登红/王磊 0%   HRO Integration HRO整合 马东 0%    招行通道# 详参考《招商银行新引起开发指南》</description>
    </item>
    
    <item>
      <title>开发环境</title>
      <link>https://example.com/docs/%E5%BC%80%E5%8F%91/env/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/%E5%BC%80%E5%8F%91/env/</guid>
      <description>门户#  平安版本运营
http://182.18.1.4:8280/ubui
User:T00001 Pass:1234qwer
  版本库#   仓库名称 仓库描述 仓库地址     ctg-app-cap 易才代付核心-应用 https://alawn.cn:3001/MrTech/ctg-app-cap.git   ctg-plat-cap 易才代付核心-平台 https://alawn.cn:3001/MrTech/ctg-plat-cap.git   ctg-app-ui 易才代付运营-应用 https://alawn.cn:3001/MrTech/ctg-app-ui.git   ctg-plat-ui 易才代付运营-平台 https://alawn.cn:3001/MrTech/ctg-plat-ui.git   ctg-plat-ui 易才代付运营-平台 https://alawn.cn:3001/MrTech/ctg-plat-ui.git   ctg-vue 易才代付运营-前端 https://alawn.cn:3001/MrTech/ctg-vue.git   capbui 平安代付运营-应用 https://alawn.cn:3001/zhang_xx/capubui.git   ctg-jar Jar源码 https://alawn.cn:3001/MrTech/ctg-jar.git    开发环境 [易才]# 需要连易才VPN</description>
    </item>
    
    <item>
      <title>银行接口</title>
      <link>https://example.com/docs/API/%E9%93%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/API/%E9%93%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3/</guid>
      <description>银行接口#工行# 中国工商银行银企互联系统企业开发手册.doc 高级新企业财务室提交指令查询接口.xls 企业财务室指令提交汇总记账.xls  招行# 招商银行新银企直联开发指南.docx  </description>
    </item>
    
    <item>
      <title>HRO融合方案</title>
      <link>https://example.com/docs/API/HRO%E8%9E%8D%E5%90%88%E6%96%B9%E6%A1%88/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/API/HRO%E8%9E%8D%E5%90%88%E6%96%B9%E6%A1%88/</guid>
      <description>HRO融合方案#流程图#流程图#接口说明#Auth Server#鉴权#  请求
protocol : HTTP method : GET content-Type : application/x-www-form-urlencoded token：Token funcId：功能ID
eg.
GET /auth?token=ZW9xpZTdvamE4SWVTNmkK&amp;amp;funcId=10001 HTTP/1.1 Content-Type : application/x-www-form-urlencoded Host: localhost: 8888 Connection: keep-alive   返回
根据http state来判断是否鉴权成功；200：鉴权通过 403：鉴权失败 funcSet: 满足条件的funcId集合，以逗号符分割
eg. 成功：
HTTP/1.1 200 OK Date: Wed, 13 Jan 2021 15:27:25 GMT Content-Type : application/xml Content-Length: 52 &amp;lt;root&amp;gt;&amp;lt;funcSet&amp;gt;100001,100002,100005&amp;lt;/funcSet&amp;gt;&amp;lt;/root&amp;gt; eg.</description>
    </item>
    
    <item>
      <title>平安版本系统流程</title>
      <link>https://example.com/docs/%E5%BC%80%E5%8F%91/pab/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/%E5%BC%80%E5%8F%91/pab/</guid>
      <description>Guide#Flowchart#文件处理 &amp;amp; 批次打包#送盘#回盘#技术要点#  库表索引的合理性
  库表要分区
  </description>
    </item>
    
    <item>
      <title>改造点</title>
      <link>https://example.com/docs/%E5%BC%80%E5%8F%91/reconstruct/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/%E5%BC%80%E5%8F%91/reconstruct/</guid>
      <description>代收付#  易才HRO API
  批量送盘
  批次查询
  对账文件生成
  名录维护API
 由HRO在名录发生变更时推送给沐融系统
   退票查询
    短信/邮件 改造
  短信模板
  短信调用易才RabbitMQ
  邮件配置
    银行类型的改造
  批次送盘 &amp;amp; 回盘增加重点客户的优先级
  删除商户有关的风控、检查；改造成客户
  去除合作机构接口管理
  提供卡BIN反查
 支持批量上送（需做笔数控制）
   客户风控增加单批 笔数/金额 上限
  交易状态增加 R：已退汇，流水表中增加退汇流水号、退汇日期</description>
    </item>
    
    <item>
      <title></title>
      <link>https://example.com/docs/API/HRO%E7%AD%BE%E5%90%8DDEMO/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/API/HRO%E7%AD%BE%E5%90%8DDEMO/</guid>
      <description>HRO签名DEMO#import org.junit.Test; import java.io.UnsupportedEncodingException; import java.security.MessageDigest; import java.security.NoSuchAlgorithmException; import java.util.Base64; /** * @Author: Alawn * @Description: * @Date: Create in 6:40 下午 2021/1/20 */ public class SignDemo { private final static String secret = &amp;#34;Giur9quiuD&amp;#34;; private final static String charSet = &amp;#34;UTF-8&amp;#34;; @Test public void sign() throws NoSuchAlgorithmException, UnsupportedEncodingException { String reqBody = &amp;#34;&amp;lt;root&amp;gt;&amp;lt;head&amp;gt;&amp;lt;version&amp;gt;v1.0&amp;lt;/version&amp;gt;&amp;lt;serviceName&amp;gt;diskApply&amp;lt;/serviceName&amp;gt;&amp;lt;requestId&amp;gt;20210104000000000001&amp;lt;/requestId&amp;gt;&amp;lt;requestTime&amp;gt;20200104235959&amp;lt;/requestTime&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;applyDate&amp;gt;20201229&amp;lt;/applyDate&amp;gt;&amp;lt;diskNo&amp;gt;20201229000000000000000000000001&amp;lt;/diskNo&amp;gt;&amp;lt;filePath&amp;gt;/data/send/20201229000000000000000000000001&amp;lt;/filePath&amp;gt;&amp;lt;fileVersion&amp;gt;v1&amp;lt;/fileVersion&amp;gt;&amp;lt;customerId&amp;gt;OHJEMIA1EINGUGAH0AITHOHNUEYAHWOO&amp;lt;/customerId&amp;gt;&amp;lt;titleId&amp;gt;1000001&amp;lt;/titleId&amp;gt;&amp;lt;md5&amp;gt;c5950a259435d3e51262539a10a22910&amp;lt;/md5&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/root&amp;gt;&amp;#34;; MessageDigest md5Digest = MessageDigest.getInstance(&amp;#34;MD5&amp;#34;); String md5 = byteArrayToHexString(md5Digest.digest(reqBody.getBytes(charSet))); MessageDigest shaDigest = MessageDigest.getInstance(&amp;#34;SHA-256&amp;#34;); byte[] signBuf = new byte[md5.</description>
    </item>
    
    <item>
      <title></title>
      <link>https://example.com/docs/API/%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/API/%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B/</guid>
      <description>文件压缩/解压#Maven配置#&amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;net.lingala.zip4j&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;zip4j&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;2.6.4&amp;lt;/version&amp;gt; &amp;lt;/dependency&amp;gt; 压缩#ZipParameters zipParameters = new ZipParameters(); zipParameters.setEncryptFiles(true); zipParameters.setEncryptionMethod(EncryptionMethod.AES); // Below line is optional. AES 256 is used by default. You can override it to use AES 128. AES 192 is supported only for extracting. zipParameters.setAesKeyStrength(AesKeyStrength.KEY_STRENGTH_256); List&amp;lt;File&amp;gt; filesToAdd = Arrays.asList( new File(&amp;#34;somefile&amp;#34;), new File(&amp;#34;someotherfile&amp;#34;) ); ZipFile zipFile = new ZipFile(&amp;#34;filename.zip&amp;#34;, &amp;#34;password&amp;#34;.toCharArray()); zipFile.addFiles(filesToAdd, zipParameters); 解压#new ZipFile(&amp;#34;filename.zip&amp;#34;, &amp;#34;password&amp;#34;.</description>
    </item>
    
    <item>
      <title></title>
      <link>https://example.com/docs/Meeting/20210114/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/Meeting/20210114/</guid>
      <description> 文件系统使用fastDFS，报表也需要使用fastDFS，接口相应修改。 下周易才给环境，部署DEMO SDK下周二之后 数据库内账户信息加密 鉴权查询返回权限列表 functionID 短信api，邮件问题，易才确认。 工行都是代发工资，招行附言根据账户类型。基本户代发工资，一般户用薪酬/薪资替换，逻辑编写邮件，由业务确认。 GBK生僻字问题，出现生僻字，整包拒绝。 附言放在批次上，送中文。 银行类型，二次发放必输。若存则直接取，若无，则根据卡宾判断 回盘文件交易明细状态，成功、失败、已退票。 退票查询接口，交易交易状态字段待定。 支付地账户同步，bankCode字段填写ICBC或CMB 支付地抬头里分行号，从新提供一份全的。 记账方式，逐笔，并笔。逐笔记账，发送频率过高，会导致工行人为恶意攻击系统。 跨行快汇，超网，100万以下都支持 对方行行号，送联行号，工行需要确认是否送到总行级即可。 工行逐笔记账，立刻返回交易结果信息。 工行返回交易状态 失败：6、11，7-成功，其他状态为处理中，一天未查询到终态，认为异常，通知工行。 账户只认账户中文名。账户英文名不填。 加密机并发180笔，工行确认加密机并发量。 工行内部先评估，软证书方式工行是否能处理掉这么多记录。 工行确认是否有预约功能？ 测试环境测试是否可以预约处理。  </description>
    </item>
    
    <item>
      <title>20210108周例会</title>
      <link>https://example.com/docs/Meeting/20210108/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/Meeting/20210108/</guid>
      <description>项目例会：# 确认加密机。加密机品牌：江南所 业务种类号确认，按单笔拆分处理。 回单根据业务种类号汇成同一个回单。 999业务种类编号无法扩展，北京单日150批次，成都100批次。实际够用。使用计数器。 加密机逐笔发送，资金调拨是多笔还是单笔。易才验证？若无法处理，易才资金调拨走人工 工行约会议 招行分行号是否能送到总行分行号？不能 发放优先级定位1,2,3 数字越大，优先级越高，HRO大客户优先发送，其他默认。 支付地同步功能，增加费项代码，用于选择代发工资或者其他，增加附言。由HRO审批时默认。提交时无，则按默认。 批次新增优先级字段，用于插队处理 后期需求预约代付 招行是否有10S后查询与15分钟后查询结果不一致的问题。 新增命中风控报表、按通道客户每月总金额，总笔数报表、按通道退票报表，到客户层 重新整理一份预警。失败率预警。 支付地抬头双方数据库不一致，异常补偿机制。 与易才联调时间，1月25号  </description>
    </item>
    
    <item>
      <title>技术沟通确认清单</title>
      <link>https://example.com/docs/%E9%9C%80%E6%B1%82/technology/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/%E9%9C%80%E6%B1%82/technology/</guid>
      <description>技术沟通确认清单#  关于HRO与沐融代付管理系统的融合方案
 最终效果沐融代付系统的管理功能完全嵌入至HRO中
   移除沐融管理系统中的菜单、用户、角色、权限，使用HRO的用户、角色、权限来控制沐融的页面
  HRO系统在原有的菜单基础上增加沐融批量代付相关的菜单，并且点击其链接能跳转至沐融管理系统相应的页面
  HRO向沐融系统提供Token鉴权接口用于沐融系统相关页面渲染前的权限检查，并在鉴权成功后返回HRO系统的用户ID及该页面下的按钮权限
  沐融系统使用鉴权返回的UserId来登记操作员日志
    关于HRO与沐融系统批次交互模式
  沐融向HRO系统提供批次请求、批次查询等API，批次的内容以文件的形式存放在NFS服务器上
  批次文件采用tar.gz压缩以减少网络传输的流量
  批次文件使用对称加密及MD5签名的方式来保障文件的防篡改、防窃取
  HRO上送的批次号全局唯一；批次文件中的明细ID全局唯一
  沐融提供给HRO的回盘文件中需包含通道、出账账号、错误码、错误信息、业务状态、HRO流水、沐融流水、银行流水（银行如提供）
    关于命中风控的处理策略
  如整个批次命中风控的，则整批失败
  如批次中局部明细命中风控的，则命中风控的部分明细作失败处理，未命中风控的部分正常发送
    关于HRO与沐融系统的对账
  沐融系统在 T + 1 日生成HRO系统T日的对账文件
  对账文件仅包含成功、处理中的明细
    关于退票的处理方式</description>
    </item>
    
    <item>
      <title>易才需求沟通会</title>
      <link>https://example.com/docs/%E9%9C%80%E6%B1%82/requirement/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/%E9%9C%80%E6%B1%82/requirement/</guid>
      <description>易才需求#技术#  批次全部成功后，通知易才
  提供批量客户录入/修改接口
  操作员日志沐融需要重写，只登记userID(易才给验证Token接口中给) + action
  易才倾向于接口中附明细
  送盘与回盘方式
   使用文件，通过NFS、文件压缩且加密，压缩格式tar.gz
  出口网络情况   上下行都是100M 电信、联通双线路、后期生产部署在北京
  批次号不同、内容相同，如何处理?   HRO控制（SHA值校验）
  批次中对于触发风控预警的明细处理情况   整批触发风控：整批作失败处理 单批部分明细触发风控：明细失败处理
  短信客户端   易才提供MQ地址与格式
  邮件服务器   易才提供邮件服务器配置
  退票用推送？查询？   HRO每天查询
  监控如何实现   业务监控沐融提供监控脚本</description>
    </item>
    
    <item>
      <title>银行待沟通问题列表（工行）</title>
      <link>https://example.com/docs/%E9%9C%80%E6%B1%82/channel_icbc/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/%E9%9C%80%E6%B1%82/channel_icbc/</guid>
      <description>银行待沟通问题列表（工行）#工行#  商务&amp;amp;流程
  商务流程是什么样的？
  多久可以提供测试参数？
 2~3个工作日
   是否具备现成的联调环境？
 ==工行近期更换环境，1月下旬到1月底才有联调环境==
   是否有专人配合联调？
 专人配合
   开发完成后银行是否需要在测试环境上验收？
 工行不验收，但需要易才出示带公章的验收报告，工行提供模板
   生产参数及前置机软件多久可以提供？
 2~3个工作日
   我方投产后行方是否需要生产环境的验收？
 不验收
     跨行
  大额、小额、超网 的限额及时效各是什么样的？
 大额：实时，100W以上（5 x 8） 小额：非实时，100w以下（7 x 24） 超网：实时，==5w以下==（7 x 24）
   跨行业务是否要上送开户行行名、开户所在地、开户行支行名或联行号？</description>
    </item>
    
    <item>
      <title>银行待沟通问题列表（招行）</title>
      <link>https://example.com/docs/%E9%9C%80%E6%B1%82/channel_cmb/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://example.com/docs/%E9%9C%80%E6%B1%82/channel_cmb/</guid>
      <description>银行待沟通问题列表（招行）#  商务&amp;amp;流程
  商务流程是什么样的？
  多久可以提供测试参数？
 2~3个工作日
   是否具备现成的联调环境？
 有联调环境
   是否有专人配合联调？
 有专人配合
   开发完成后银行是否需要在测试环境上验收？
 测试环境需要验收，执行案例并填写银行给的测试报告
   生产参数及前置机软件多久可以提供？
 2~3个工作日
   我方投产后行方是否需要生产环境的验收？
 我方自行验证
     跨行
  大额、小额、超网 的限额及时效各是什么样的？
 大额：实时，100W以上（5 x 8） 小额：非实时，100w以下（7 x 24） 超网：实时，100w以下（7 x 24）
   未走超网的跨行业务是否一定要上送开户行行名、开户所在地、开户行支行名或联行号？
 大小额需要上送；超网不需要上送</description>
    </item>
    
  </channel>
</rss>
