<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta name="generator" content="Hugo 0.81.0" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="技术沟通确认清单#  关于HRO与沐融代付管理系统的融合方案
 最终效果沐融代付系统的管理功能完全嵌入至HRO中
   移除沐融管理系统中的菜单、用户、角色、权限，使用HRO的用户、角色、权限来控制沐融的页面
  HRO系统在原有的菜单基础上增加沐融批量代付相关的菜单，并且点击其链接能跳转至沐融管理系统相应的页面
  HRO向沐融系统提供Token鉴权接口用于沐融系统相关页面渲染前的权限检查，并在鉴权成功后返回HRO系统的用户ID及该页面下的按钮权限
  沐融系统使用鉴权返回的UserId来登记操作员日志
    关于HRO与沐融系统批次交互模式
  沐融向HRO系统提供批次请求、批次查询等API，批次的内容以文件的形式存放在NFS服务器上
  批次文件采用tar.gz压缩以减少网络传输的流量
  批次文件使用对称加密及MD5签名的方式来保障文件的防篡改、防窃取
  HRO上送的批次号全局唯一；批次文件中的明细ID全局唯一
  沐融提供给HRO的回盘文件中需包含通道、出账账号、错误码、错误信息、业务状态、HRO流水、沐融流水、银行流水（银行如提供）
    关于命中风控的处理策略
  如整个批次命中风控的，则整批失败
  如批次中局部明细命中风控的，则命中风控的部分明细作失败处理，未命中风控的部分正常发送
    关于HRO与沐融系统的对账
  沐融系统在 T &#43; 1 日生成HRO系统T日的对账文件
  对账文件仅包含成功、处理中的明细
    关于退票的处理方式">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="技术沟通确认清单" />
<meta property="og:description" content="技术沟通确认清单#  关于HRO与沐融代付管理系统的融合方案
 最终效果沐融代付系统的管理功能完全嵌入至HRO中
   移除沐融管理系统中的菜单、用户、角色、权限，使用HRO的用户、角色、权限来控制沐融的页面
  HRO系统在原有的菜单基础上增加沐融批量代付相关的菜单，并且点击其链接能跳转至沐融管理系统相应的页面
  HRO向沐融系统提供Token鉴权接口用于沐融系统相关页面渲染前的权限检查，并在鉴权成功后返回HRO系统的用户ID及该页面下的按钮权限
  沐融系统使用鉴权返回的UserId来登记操作员日志
    关于HRO与沐融系统批次交互模式
  沐融向HRO系统提供批次请求、批次查询等API，批次的内容以文件的形式存放在NFS服务器上
  批次文件采用tar.gz压缩以减少网络传输的流量
  批次文件使用对称加密及MD5签名的方式来保障文件的防篡改、防窃取
  HRO上送的批次号全局唯一；批次文件中的明细ID全局唯一
  沐融提供给HRO的回盘文件中需包含通道、出账账号、错误码、错误信息、业务状态、HRO流水、沐融流水、银行流水（银行如提供）
    关于命中风控的处理策略
  如整个批次命中风控的，则整批失败
  如批次中局部明细命中风控的，则命中风控的部分明细作失败处理，未命中风控的部分正常发送
    关于HRO与沐融系统的对账
  沐融系统在 T &#43; 1 日生成HRO系统T日的对账文件
  对账文件仅包含成功、处理中的明细
    关于退票的处理方式" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.com/docs/%E9%9C%80%E6%B1%82/technology/" /><meta property="article:section" content="docs" />



<title>技术沟通确认清单 | 易才批量代付项目</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.533dbfa5b0e2c4a6fe8738900d3c5955aad26f9887c7fb49f2dae751e59fe52d.css" integrity="sha256-Uz2/pbDixKb&#43;hziQDTxZVarSb5iHx/tJ8trnUeWf5S0=">
<script defer src="/en.search.min.5c155ab45a209ee138fd86a73869c020179ec26dc0c5b146a7ea11027b123172.js" integrity="sha256-XBVatFognuE4/YanOGnAIBeewm3AxbFGp&#43;oRAnsSMXI="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>易才批量代付项目</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>开发</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/%E5%BC%80%E5%8F%91/task/" class="">任务分配</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/%E5%BC%80%E5%8F%91/env/" class="">开发环境</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/%E5%BC%80%E5%8F%91/pab/" class="">平安版本系统流程</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/%E5%BC%80%E5%8F%91/reconstruct/" class="">改造点</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>API</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/API/HRO%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/" class="">HRO接口文档</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/API/%E9%93%B6%E8%A1%8C%E6%8E%A5%E5%8F%A3/" class="">银行接口</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/API/HRO%E8%9E%8D%E5%90%88%E6%96%B9%E6%A1%88/" class="">HRO融合方案</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/API/HRO%E7%AD%BE%E5%90%8DDEMO/" class="">Hro签名 Demo</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/API/%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B/" class="">文件压缩解压</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Meeting</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/Meeting/20210114/" class="">20210114th</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/Meeting/20210108/" class="">20210108周例会</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>需求</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/%E9%9C%80%E6%B1%82/technology/" class=" active">技术沟通确认清单</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/%E9%9C%80%E6%B1%82/requirement/" class="">易才需求沟通会</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/%E9%9C%80%E6%B1%82/channel_icbc/" class="">银行待沟通问题列表（工行）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://example.com/docs/%E9%9C%80%E6%B1%82/channel_cmb/" class="">银行待沟通问题列表（招行）</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>技术沟通确认清单</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#技术沟通确认清单">技术沟通确认清单</a></li>
      </ul>
    </li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h2 id="技术沟通确认清单">
  技术沟通确认清单
  <a class="anchor" href="#%e6%8a%80%e6%9c%af%e6%b2%9f%e9%80%9a%e7%a1%ae%e8%ae%a4%e6%b8%85%e5%8d%95">#</a>
</h2>
<ul>
<li>
<p>关于HRO与沐融代付管理系统的融合方案</p>
<blockquote>
<p>最终效果沐融代付系统的管理功能完全嵌入至HRO中</p>
</blockquote>
<ol>
<li>
<p>移除沐融管理系统中的菜单、用户、角色、权限，使用HRO的用户、角色、权限来控制沐融的页面</p>
</li>
<li>
<p>HRO系统在原有的菜单基础上增加沐融批量代付相关的菜单，并且点击其链接能跳转至沐融管理系统相应的页面</p>
</li>
<li>
<p>HRO向沐融系统提供Token鉴权接口用于沐融系统相关页面渲染前的权限检查，并在鉴权成功后返回HRO系统的用户ID及该页面下的按钮权限</p>
</li>
<li>
<p>沐融系统使用鉴权返回的UserId来登记操作员日志</p>
</li>
</ol>
</li>
<li>
<p>关于HRO与沐融系统批次交互模式</p>
<ol>
<li>
<p>沐融向HRO系统提供批次请求、批次查询等API，批次的内容以文件的形式存放在NFS服务器上</p>
</li>
<li>
<p>批次文件采用tar.gz压缩以减少网络传输的流量</p>
</li>
<li>
<p>批次文件使用对称加密及MD5签名的方式来保障文件的防篡改、防窃取</p>
</li>
<li>
<p>HRO上送的批次号全局唯一；批次文件中的明细ID全局唯一</p>
</li>
<li>
<p>沐融提供给HRO的回盘文件中需包含通道、出账账号、错误码、错误信息、业务状态、HRO流水、沐融流水、银行流水（银行如提供）</p>
</li>
</ol>
</li>
<li>
<p>关于命中风控的处理策略</p>
<ol>
<li>
<p>如整个批次命中风控的，则整批失败</p>
</li>
<li>
<p>如批次中局部明细命中风控的，则命中风控的部分明细作失败处理，未命中风控的部分正常发送</p>
</li>
</ol>
</li>
<li>
<p>关于HRO与沐融系统的对账</p>
<ol>
<li>
<p>沐融系统在 T + 1 日生成HRO系统T日的对账文件</p>
</li>
<li>
<p>对账文件仅包含成功、处理中的明细</p>
</li>
</ol>
</li>
<li>
<p>关于退票的处理方式</p>
<ol>
<li>
<p>沐融系统每日晚特定时间向银行查询退票信息，且入库</p>
</li>
<li>
<p>HRO系统每日晚特定时间向沐融系统发起退票查询，且入库</p>
</li>
<li>
<p>HRO系统在退票的处理环节中，需要相关业务人员去企业网银核实退票真实性，待核实明确为已退票后才能回退原明细状态，且进入二次发放流程</p>
</li>
</ol>
</li>
<li>
<p>关于需指定银行通道的客户处理方式</p>
<ol>
<li>HRO负责拦截相关批次，转线下处理</li>
</ol>
</li>
<li>
<p>关于当月内不同批次中相同明细的防控策略</p>
<ol>
<li>HRO对明细中的卡号 + 金额 + 发放月份做哈希，当存在重复哈希时在界面上提醒业务人员</li>
</ol>
</li>
<li>
<p>关于非银行卡开户行名补全的策略</p>
<ol>
<li>
<p>沐融提供银行卡BIN校验的API给HRO系统，用于HRO银行卡录入环节的校验（如发现为非银行卡则当场要求客户补全开户行信息）</p>
</li>
<li>
<p>HRO在批次明细中检查超过5W且非工行与招行的记录要求补全开户行信息（这些数据为跨行且非超网）</p>
</li>
</ol>
</li>
<li>
<p>关于易才分支机构在沐融系统中留存的方案</p>
<ol>
<li>HRO系统开放支付地抬头与银行户名及账号的关联表，沐融通过DBLink查询该数据</li>
</ol>
</li>
<li>
<p>关于不同用户组间数据的问题</p>
<ol>
<li>
<p>沐融批次回盘明细增加通道、出账账号、业务状态等标识</p>
</li>
<li>
<p>业务人员在HRO中查询相关数据</p>
</li>
</ol>
</li>
<li>
<p>关于客户名录的同步</p>
<ol>
<li>
<p>沐融提供名录维护API，由HRO在名录发生变更时推送给沐融系统</p>
</li>
<li>
<p>客户名录信息需包含优先级</p>
</li>
</ol>
</li>
<li>
<p>关系消息发送</p>
<ol>
<li>
<p>短信发送使用易才现有的通道，通过RabbitMQ，易才提供数据格式</p>
</li>
<li>
<p>邮件发送使用易才现有的邮件服务器，需要易才新建账号</p>
</li>
</ol>
</li>
<li>
<p>关于监控的实现方式</p>
<ol>
<li>
<p>硬件级监控使用原有的Zabbix</p>
</li>
<li>
<p>应用级监控由沐融提供脚本与监控点，并嵌入原有的监控系统中</p>
</li>
</ol>
</li>
<li>
<p>关于系统物理架构</p>
<ol>
<li>
<p>负载均衡采用NG或Tomcat来实现，沐融提供策略，易才运维实施</p>
</li>
<li>
<p>数据库采用DG同步，一主一备（读库）的策略，沐融提供策略，易才DBA实施</p>
</li>
<li>
<p>数据库采用Oralce，版本号与易才现有的同步</p>
</li>
</ol>
</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#技术沟通确认清单">技术沟通确认清单</a></li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












