<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta name="generator" content="Hugo 0.81.0" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="uni.openBluetoothAdapter(OBJECT)#Initialize the Bluetooth module
Object Parameter description
   Attribute Type Default value Required Description     success function  no Interface calls a successful callback function   fail function  no Callback function for interface call failure   complete function  no The callback function for the end of the interface call (the call will be executed if it succeeds or fails)    Error#   Error Code Error Message Description     0 ok normal   10000 not init The Bluetooth adapter is not initialized   10001 not available The current Bluetooth adapter is not available   10002 no device The specified device was not found   10003 connection fail Connection failed   10004 no service The specified service was not found   10005 no characteristic The specified property was not found   10006 no connection The current connection is disconnected   10007 property not support The current property does not support this operation   10008 system error Exceptions reported by all other systems   10009 system not support Only supported by Android system, system version lower than 4.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="uni.openBluetoothAdapter(OBJECT)#Initialize the Bluetooth module
Object Parameter description
   Attribute Type Default value Required Description     success function  no Interface calls a successful callback function   fail function  no Callback function for interface call failure   complete function  no The callback function for the end of the interface call (the call will be executed if it succeeds or fails)    Error#   Error Code Error Message Description     0 ok normal   10000 not init The Bluetooth adapter is not initialized   10001 not available The current Bluetooth adapter is not available   10002 no device The specified device was not found   10003 connection fail Connection failed   10004 no service The specified service was not found   10005 no characteristic The specified property was not found   10006 no connection The current connection is disconnected   10007 property not support The current property does not support this operation   10008 system error Exceptions reported by all other systems   10009 system not support Only supported by Android system, system version lower than 4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/bluetooth/bluetooth/" /><meta property="article:section" content="docs" />



<title>Bluetooth | MR MiniApp</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.533dbfa5b0e2c4a6fe8738900d3c5955aad26f9887c7fb49f2dae751e59fe52d.css" integrity="sha256-Uz2/pbDixKb&#43;hziQDTxZVarSb5iHx/tJ8trnUeWf5S0=">
<script defer src="/en.search.min.6e5054cc4e2971ba85444f42f0143e1d26f5392ca6597e6664a27dc2c18f8c8b.js" integrity="sha256-blBUzE4pcbqFRE9C8BQ&#43;HSb1OSymWX5mZKJ9wsGPjIs="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/"><span>MR MiniApp</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E4%BD%8D%E7%BD%AE/%E5%9C%B0%E5%9B%BE%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/map/" class="">Map</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E4%BD%8D%E7%BD%AE/%E6%9F%A5%E7%9C%8B%E4%BD%8D%E7%BD%AE/open-location/" class="">Open Location</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E4%BD%8D%E7%BD%AE/%E8%8E%B7%E5%8F%96%E4%BD%8D%E7%BD%AE/location/" class="">Location</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%9F%BA%E7%A1%80/%E5%AE%9A%E6%97%B6%E5%99%A8/timer/" class="">Timer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%9F%BA%E7%A1%80/%E5%BA%94%E7%94%A8%E7%BA%A7%E4%BA%8B%E4%BB%B6/application/" class="">Application</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%9F%BA%E7%A1%80/%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0/log/" class="">Log</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%9F%BA%E7%A1%80/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/lifecycle/" class="">Lifecycle</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E5%9B%BE%E7%89%87/image/" class="">Image</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E5%AF%8C%E6%96%87%E6%9C%AC/editor-context/" class="">Editor Context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E5%BD%95%E9%9F%B3%E7%AE%A1%E7%90%86/record-manager/" class="">Record Manager</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E6%96%87%E4%BB%B6/file/" class="">File</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E7%9B%B4%E6%92%AD%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/live-player-context/" class="">Live Player Context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E7%9B%B8%E6%9C%BA%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/camera-context/" class="">Camera Context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E8%83%8C%E6%99%AF%E9%9F%B3%E9%A2%91%E6%92%AD%E6%94%BE%E7%AE%A1%E7%90%86/background-audio-manager/" class="">Background Audio Manager</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E8%A7%86%E9%A2%91/video/" class="">Video</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E8%A7%86%E9%A2%91%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/video-context/" class="">Video Context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%90%88%E6%88%90/media-container/" class="">Media Container</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E5%AA%92%E4%BD%93/%E9%9F%B3%E9%A2%91%E7%BB%84%E4%BB%B6%E6%8E%A7%E5%88%B6/audio-context/" class="">Audio Context</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E6%95%B0%E6%8D%AE%E7%BC%93%E5%AD%98/storage/" class="">Storage</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E6%96%87%E4%BB%B6/file/" class="">File</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0/pulldown/" class="">Pulldown</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E4%BA%A4%E4%BA%92%E5%8F%8D%E9%A6%88/prompt/" class="">Prompt</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E5%8A%A8%E7%94%BB/animation/" class="">Animation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2/media-query-observer/" class="">Media Query Observer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E5%AD%97%E4%BD%93/font/" class="">Font</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E6%BB%9A%E5%8A%A8/scroll/" class="">Scroll</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E7%AA%97%E5%8F%A3/window/" class="">Window</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E8%83%8C%E6%99%AF/bgcolor/" class="">Bgcolor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6/nextTick/" class="">Next Tick</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF/nodes-info/" class="">Nodes Info</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E8%8A%82%E7%82%B9%E5%B8%83%E5%B1%80%E7%9B%B8%E4%BA%A4%E7%8A%B6%E6%80%81/intersection-observer/" class="">Intersection Observer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E8%AE%BE%E7%BD%AETabBar/tabbar/" class="">Tabbar</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%95%8C%E9%9D%A2/%E8%AE%BE%E7%BD%AE%E5%AF%BC%E8%88%AA%E6%9D%A1/navigationbar/" class="">Navigationbar</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%BD%91%E7%BB%9C/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/network-file/" class="">Network File</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E7%BD%91%E7%BB%9C/%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82/request/" class="">Request</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/accelerometer/accelerometer/" class="">Accelerometer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/barcode/barcode/" class="">Barcode</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/batteryInfo/batteryInfo/" class="">Battery Info</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/ble/ble/" class="">Ble</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/bluetooth/bluetooth/" class=" active">Bluetooth</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/brightness/brightness/" class="">Brightness</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/clipboard/clipboard/" class="">Clipboard</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/compass/compass/" class="">Compass</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/contact/contact/" class="">Contact</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/iBeacon/ibeacon/" class="">Ibeacon</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/newwork/network/" class="">Network</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/NFC/nfc/" class="">Nfc</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/phone/phone/" class="">Phone</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/SystemInfo/info/" class="">Info</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/SystemTheme/theme/" class="">Theme</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%AE%BE%E5%A4%87/Wi-Fi/wifi/" class="">Wifi</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC/router/" class="">Router</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E9%94%AE%E7%9B%98/key/" class="">Key</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E9%A1%B5%E9%9D%A2%E5%92%8C%E7%AA%97%E4%BD%93/subNVue%E5%8E%9F%E7%94%9F%E5%AD%90%E7%AA%97%E4%BD%93/subNVues/" class="">Sub Nvues</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E9%A1%B5%E9%9D%A2%E5%92%8C%E7%AA%97%E4%BD%93/%E9%A1%B5%E9%9D%A2/window/" class="">Window</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E9%A1%B5%E9%9D%A2%E5%92%8C%E7%AA%97%E4%BD%93/%E9%A1%B5%E9%9D%A2%E9%80%9A%E8%AE%AF/communication/" class="">Communication</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/API/%E9%A1%B5%E9%9D%A2%E5%92%8C%E7%AA%97%E4%BD%93/%E9%A1%B5%E9%9D%A2%E9%80%9A%E8%AE%AF/prompt/" class="">Prompt</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%9E%B6%E6%9E%84/vue%E6%95%99%E7%A8%8B/API/vue-api/" class="">Vue API</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%9E%B6%E6%9E%84/vue%E6%95%99%E7%A8%8B/%E5%9F%BA%E7%A1%80/vue-basics/" class="">Vue Basics</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%9E%B6%E6%9E%84/vue%E6%95%99%E7%A8%8B/%E7%BB%84%E4%BB%B6/vue-components/" class="">Vue Components</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%9E%B6%E6%9E%84/%E6%A1%86%E6%9E%B6%E7%AE%80%E4%BB%8B/frame/" class="">Frame</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E5%AE%9A%E6%97%B6%E5%99%A8/timer/" class="">Timer</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0/log/" class="">Log</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/lifecycle/" class="">Lifecycle</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E9%A1%B5%E9%9D%A2/window/" class="">Window</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3/%E9%A1%B5%E9%9D%A2%E9%80%9A%E8%AE%AF/communication/" class="">Communication</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/App.vue/App/" class="">App</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/main.js/main/" class="">Main</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/manifest.json/manifest/" class="">Manifest</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/pages.json/pages/" class="">Pages</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/uni.scss/uni-scss/" class="">Uni Scss</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E6%A1%86%E6%9E%B6/%E9%85%8D%E7%BD%AE/vue.config.js/vue-config/" class="">Vue Config</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/webview/web-view/web-view/" class="">Web View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9C%B0%E5%9B%BE/map/map/" class="">Map</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/icon/icon/" class="">Icon</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/progress/progress/" class="">Progress</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/rich-text/rich-text/" class="">Rich Text</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/text/text/" class="">Text</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%AA%92%E4%BD%93%E7%BB%84%E4%BB%B6/audio/audio/" class="">Audio</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%AA%92%E4%BD%93%E7%BB%84%E4%BB%B6/image/image/" class="">Image</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%AA%92%E4%BD%93%E7%BB%84%E4%BB%B6/video/video/" class="">Video</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E5%AF%BC%E8%88%AA%E7%B1%BB%E7%BB%84%E4%BB%B6/navigation-bar/navigation-bar/" class="">Navigation Bar</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E7%94%BB%E5%B8%83/canvas/canvas/" class="">Canvas</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/button/button/" class="">Button</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/checkbox/checkbox/" class="">Checkbox</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/editor/editor/" class="">Editor</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/form/form/" class="">Form</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/input/input/" class="">Input</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/label/label/" class="">Label</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/picker-view/picker-view/" class="">Picker View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/picker/picker/" class="">Picker</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/radio/radio/" class="">Radio</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/slider/slider/" class="">Slider</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/switch/switch/" class="">Switch</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6/textarea/textarea/" class="">Textarea</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/cover-image/cover-view/" class="">Cover View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/match-media/match-media/" class="">Match Media</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/movable-view/movable-view/" class="">Movable View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/movavle-area/movable-view/" class="">Movable View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/scroll-view/scroll-view/" class="">Scroll View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/swiper/swiper/" class="">Swiper</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8/view/view/" class="">View</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC/custom-tab-bar/custom-tab-bar/" class="">Custom Tab Bar</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://tonniz.github.io/docs/%E7%BB%84%E4%BB%B6/%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC/navigator/navigator/" class="">Navigator</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Bluetooth</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#uniopenbluetoothadapterobject">uni.openBluetoothAdapter(OBJECT)</a></li>
            <li><a href="#unistartbluetoothdevicesdiscoveryobject">uni.startBluetoothDevicesDiscovery(OBJECT)</a></li>
            <li><a href="#unionbluetoothdevicefoundcallback">uni.onBluetoothDeviceFound(CALLBACK)</a></li>
            <li><a href="#unistopbluetoothdevicesdiscoveryobject">uni.stopBluetoothDevicesDiscovery(OBJECT)</a></li>
            <li><a href="#unionbluetoothadapterstatechangecallback">uni.onBluetoothAdapterStateChange(CALLBACK)</a></li>
            <li><a href="#unigetconnectedbluetoothdevicesobject">uni.getConnectedBluetoothDevices(OBJECT)</a></li>
            <li><a href="#unigetbluetoothdevicesobject">uni.getBluetoothDevices(OBJECT)</a></li>
            <li><a href="#unigetbluetoothadapterstateobject">uni.getBluetoothAdapterState(OBJECT)</a></li>
            <li><a href="#uniclosebluetoothadapterobject">uni.closeBluetoothAdapter(OBJECT)</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h3 id="uniopenbluetoothadapterobject">
  uni.openBluetoothAdapter(OBJECT)
  <a class="anchor" href="#uniopenbluetoothadapterobject">#</a>
</h3>
<p>Initialize the Bluetooth module</p>
<p><strong>Object Parameter description</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default value</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Interface calls a successful callback function</td>
</tr>
<tr>
<td>fail</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for interface call failure</td>
</tr>
<tr>
<td>complete</td>
<td>function</td>
<td></td>
<td>no</td>
<td>The callback function for the end of the interface call (the call will be executed if it succeeds or fails)</td>
</tr>
</tbody>
</table>
<h4 id="error">
  Error
  <a class="anchor" href="#error">#</a>
</h4>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Error Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>ok</td>
<td>normal</td>
</tr>
<tr>
<td>10000</td>
<td>not init</td>
<td>The Bluetooth adapter is not initialized</td>
</tr>
<tr>
<td>10001</td>
<td>not available</td>
<td>The current Bluetooth adapter is not available</td>
</tr>
<tr>
<td>10002</td>
<td>no device</td>
<td>The specified device was not found</td>
</tr>
<tr>
<td>10003</td>
<td>connection fail</td>
<td>Connection failed</td>
</tr>
<tr>
<td>10004</td>
<td>no service</td>
<td>The specified service was not found</td>
</tr>
<tr>
<td>10005</td>
<td>no characteristic</td>
<td>The specified property was not found</td>
</tr>
<tr>
<td>10006</td>
<td>no connection</td>
<td>The current connection is disconnected</td>
</tr>
<tr>
<td>10007</td>
<td>property not support</td>
<td>The current property does not support this operation</td>
</tr>
<tr>
<td>10008</td>
<td>system error</td>
<td>Exceptions reported by all other systems</td>
</tr>
<tr>
<td>10009</td>
<td>system not support</td>
<td>Only supported by Android system, system version lower than 4.3 does not support BLE</td>
</tr>
</tbody>
</table>
<p><strong>Tips</strong></p>
<ul>
<li>Other Bluetooth-related APIs must be used after  uni.openBluetoothAdapter calls. Otherwise the API will return an error (errCode=10000).</li>
<li>If the user&rsquo;s bluetooth switch is not on or the phone does not support bluetooth function, calling  <code>uni.openBluetoothAdapter</code>will return an error (err Code=10001). The Bluetooth function of the phone is not available.At this time, the APP Bluetooth module has been initialized.   <code>uni.onBluetoothAdapterStateChange</code> can be used to monitor the change of Bluetooth status of the phone, and all the APIs of the Bluetooth module can also be called.</li>
</ul>
<p><strong>Code sample</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">openBluetoothAdapter</span>({
  <span style="color:#a6e22e">success</span>(<span style="color:#a6e22e">res</span>) {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>)
  }
})
</code></pre></div><h3 id="unistartbluetoothdevicesdiscoveryobject">
  uni.startBluetoothDevicesDiscovery(OBJECT)
  <a class="anchor" href="#unistartbluetoothdevicesdiscoveryobject">#</a>
</h3>
<p>Begin searching for nearby Bluetooth peripherals.<strong>This operation costs a lot of system resources,Call method   <code>uni.stopBluetoothDevicesDiscovery</code>  to stop the search after searching and connecting to the device .</strong></p>
<p><strong>Object Parameter description</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default value</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>services</td>
<td>Array&lt;String&gt;</td>
<td></td>
<td>no</td>
<td>A list of UUIDs to search for the main service of the Bluetooth device.Some Bluetooth devices will broadcast the UUID of their main service. If this parameter is set,Only Bluetooth devices whose broadcast packet has the corresponding UUID for the primary service are searched.It is recommended to use this parameter mainly to filter out other Bluetooth devices that do not need to be processed.</td>
</tr>
<tr>
<td>allowDuplicatesKey</td>
<td>boolean</td>
<td>false</td>
<td>no</td>
<td>Whether to allow duplicate reporting of the same equipment.If duplicate reporting is allowed,The <code>uni.onBlueToothDeviceFound</code> method will report the same equipment for many times, but the RSSI values will be different.</td>
</tr>
<tr>
<td>interval</td>
<td>number</td>
<td>0</td>
<td>no</td>
<td>Interval of reported devices.0 indicates that new devices are reported as soon as they are found, and other values are reported according to the interval passed in.</td>
</tr>
<tr>
<td>success</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for successful interface call</td>
</tr>
<tr>
<td>fail</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for interface call failure</td>
</tr>
<tr>
<td>complete</td>
<td>function</td>
<td></td>
<td>no</td>
<td>The callback function for the end of the interface call (the call will be executed if it succeeds or fails)</td>
</tr>
</tbody>
</table>
<h4 id="error-1">
  Error
  <a class="anchor" href="#error-1">#</a>
</h4>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Error Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>&mdash;</td>
<td>&mdash;</td>
<td>&mdash;</td>
</tr>
<tr>
<td>0</td>
<td>ok</td>
<td>normal</td>
</tr>
<tr>
<td>10000</td>
<td>not init</td>
<td>The Bluetooth adapter is not initialized</td>
</tr>
<tr>
<td>10001</td>
<td>not available</td>
<td>The current Bluetooth adapter is not available</td>
</tr>
<tr>
<td>10002</td>
<td>no device</td>
<td>The specified device was not found</td>
</tr>
<tr>
<td>10003</td>
<td>connection fail</td>
<td>Connection failed</td>
</tr>
<tr>
<td>10004</td>
<td>no service</td>
<td>The specified service was not found</td>
</tr>
<tr>
<td>10005</td>
<td>no characteristic</td>
<td>The specified property was not found</td>
</tr>
<tr>
<td>10006</td>
<td>no connection</td>
<td>The current connection is disconnected</td>
</tr>
<tr>
<td>10007</td>
<td>property not support</td>
<td>The current property does not support this operation</td>
</tr>
<tr>
<td>10008</td>
<td>system error</td>
<td>Exceptions reported by all other systems</td>
</tr>
<tr>
<td>10009</td>
<td>system not support</td>
<td>Only supported by Android system, system version lower than 4.3 does not support BLE</td>
</tr>
</tbody>
</table>
<p><strong>Tips:</strong></p>
<ul>
<li>The App currently only supports the discovery of BLE Bluetooth devices,More Bluetooth device discovery,You can use Native.js</li>
</ul>
<p><strong>Code sample</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// Taking Bluetooth smart lights on WeChat hardware platform as an example, the UUID of the main service is FEE7. This parameter is passed in to search only for devices whose primary service UUID is FEE7
</span><span style="color:#75715e"></span><span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">startBluetoothDevicesDiscovery</span>({
  <span style="color:#a6e22e">services</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;FEE7&#39;</span>],
  <span style="color:#a6e22e">success</span>(<span style="color:#a6e22e">res</span>) {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>)
  }
})
</code></pre></div><h3 id="unionbluetoothdevicefoundcallback">
  uni.onBluetoothDeviceFound(CALLBACK)
  <a class="anchor" href="#unionbluetoothdevicefoundcallback">#</a>
</h3>
<p>Listen for events where a new device is found</p>
<p><strong>CALLBACK Returns Parameter</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>devices</td>
<td>Array&lt;Object&gt;</td>
<td>A list of newly searched devices</td>
</tr>
</tbody>
</table>
<p><strong>devices structure</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Bluetooth device name, some equipment may not have</td>
</tr>
<tr>
<td>deviceId</td>
<td>string</td>
<td>Id is used to distinguish between equipment</td>
</tr>
<tr>
<td>RSSI</td>
<td>number</td>
<td>The current signal strength bluetooth devices</td>
</tr>
<tr>
<td>advertisData</td>
<td>ArrayBuffer</td>
<td>The current bluetooth devices in the data segment of the radio ManufacturerData data segments.</td>
</tr>
<tr>
<td>advertisServiceUUIDs</td>
<td>Array&lt;String&gt;</td>
<td>The ServiceUIDS data segment in the broadcast data segment of the current Bluetooth device</td>
</tr>
<tr>
<td>localName</td>
<td>string</td>
<td>LocalName data segment in the broadcast data segment of the current Bluetooth device</td>
</tr>
<tr>
<td>serviceData</td>
<td>Object</td>
<td>The ServiceData data segment in the broadcast data segment of the current Bluetooth device</td>
</tr>
</tbody>
</table>
<p><strong>Tips</strong></p>
<ul>
<li>If the  uni.onBluetoothDeviceFound<code> called back a device,The device is added to the array of   uni.getBluetoothDevices</code>  Interface.</li>
</ul>
<p><strong>Code sample</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// ArrayBuffer to Hex string example
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">ab2hex</span>(<span style="color:#a6e22e">buffer</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">hexArr</span> <span style="color:#f92672">=</span> Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">map</span>.<span style="color:#a6e22e">call</span>(
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Uint8Array</span>(<span style="color:#a6e22e">buffer</span>),
    <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">bit</span>) {
      <span style="color:#66d9ef">return</span> (<span style="color:#e6db74">&#39;00&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">bit</span>.<span style="color:#a6e22e">toString</span>(<span style="color:#ae81ff">16</span>)).<span style="color:#a6e22e">slice</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>)
    }
  )
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">hexArr</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#39;&#39;</span>)
}
<span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">onBluetoothDeviceFound</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">devices</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;new device list has founded&#39;</span>)
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">dir</span>(<span style="color:#a6e22e">devices</span>)
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">ab2hex</span>(<span style="color:#a6e22e">devices</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">advertisData</span>))
})
</code></pre></div><h3 id="unistopbluetoothdevicesdiscoveryobject">
  uni.stopBluetoothDevicesDiscovery(OBJECT)
  <a class="anchor" href="#unistopbluetoothdevicesdiscoveryobject">#</a>
</h3>
<p>Stop searching for nearby Bluetooth peripherals.If the desired Bluetooth device has been found and there is no need to continue searching,It is recommended to call this interface to stop the Bluetooth search.</p>
<p><strong>Object Parameter description</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default value</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for successful interface call</td>
</tr>
<tr>
<td>fail</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for interface call failure</td>
</tr>
<tr>
<td>complete</td>
<td>function</td>
<td></td>
<td>no</td>
<td>The callback function for the end of the interface call (the call will be executed if it succeeds or fails)</td>
</tr>
</tbody>
</table>
<h4 id="error-2">
  Error
  <a class="anchor" href="#error-2">#</a>
</h4>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Error Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>ok</td>
<td>normal</td>
</tr>
<tr>
<td>10000</td>
<td>not init</td>
<td>The Bluetooth adapter is not initialized</td>
</tr>
<tr>
<td>10001</td>
<td>not available</td>
<td>The current Bluetooth adapter is not available</td>
</tr>
<tr>
<td>10002</td>
<td>no device</td>
<td>The specified device was not found</td>
</tr>
<tr>
<td>10003</td>
<td>connection fail</td>
<td>Connection failed</td>
</tr>
<tr>
<td>10004</td>
<td>no service</td>
<td>The specified service was not found</td>
</tr>
<tr>
<td>10005</td>
<td>no characteristic</td>
<td>The specified property was not found</td>
</tr>
<tr>
<td>10006</td>
<td>no connection</td>
<td>The current connection is disconnected</td>
</tr>
<tr>
<td>10007</td>
<td>property not support</td>
<td>The current property does not support this operation</td>
</tr>
<tr>
<td>10008</td>
<td>system error</td>
<td>Exceptions reported by all other systems</td>
</tr>
<tr>
<td>10009</td>
<td>system not support</td>
<td>Only supported by Android system, system version lower than 4.3 does not support BLE</td>
</tr>
</tbody>
</table>
<p><strong>Code sample</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">stopBluetoothDevicesDiscovery</span>({
  <span style="color:#a6e22e">success</span>(<span style="color:#a6e22e">res</span>) {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>)
  }
})
</code></pre></div><h3 id="unionbluetoothadapterstatechangecallback">
  uni.onBluetoothAdapterStateChange(CALLBACK)
  <a class="anchor" href="#unionbluetoothadapterstatechangecallback">#</a>
</h3>
<p>Listen for Bluetooth adapter state change events</p>
<p><strong>CALLBACK Return Parameter</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>available</td>
<td>boolean</td>
<td>Is the Bluetooth adapter available</td>
</tr>
<tr>
<td>discovering</td>
<td>boolean</td>
<td>Whether the Bluetooth adapter is in search state</td>
</tr>
</tbody>
</table>
<p><strong>Code sample</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">onBluetoothAdapterStateChange</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">res</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;adapterState changed, now is&#39;</span>, <span style="color:#a6e22e">res</span>)
})
</code></pre></div><h3 id="unigetconnectedbluetoothdevicesobject">
  uni.getConnectedBluetoothDevices(OBJECT)
  <a class="anchor" href="#unigetconnectedbluetoothdevicesobject">#</a>
</h3>
<p>Get the device in the connected state based on the UUID.</p>
<p><strong>Object Parameter description</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default value</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>services</td>
<td>Array&lt;String&gt;</td>
<td></td>
<td>yes</td>
<td>蓝牙设备主 service 的 uuid 列表</td>
</tr>
<tr>
<td>success</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for successful interface call</td>
</tr>
<tr>
<td>fail</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for interface call failure</td>
</tr>
<tr>
<td>complete</td>
<td>function</td>
<td></td>
<td>no</td>
<td>The callback function for the end of the interface call (the call will be executed if it succeeds or fails)</td>
</tr>
</tbody>
</table>
<p><strong>success Return parameter description:</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>devices</td>
<td>Array&lt;Object&gt;</td>
<td>The list of devices searched</td>
</tr>
</tbody>
</table>
<p><strong>res.devices structure</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Bluetooth device name, some devices may not have</td>
</tr>
<tr>
<td>deviceId</td>
<td>string</td>
<td>The ID used to distinguish the device</td>
</tr>
</tbody>
</table>
<h4 id="error-3">
  Error
  <a class="anchor" href="#error-3">#</a>
</h4>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Error Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>ok</td>
<td>normal</td>
</tr>
<tr>
<td>10000</td>
<td>not init</td>
<td>The Bluetooth adapter is not initialized</td>
</tr>
<tr>
<td>10001</td>
<td>not available</td>
<td>The current Bluetooth adapter is not available</td>
</tr>
<tr>
<td>10002</td>
<td>no device</td>
<td>The specified device was not found</td>
</tr>
<tr>
<td>10003</td>
<td>connection fail</td>
<td>Connection failed</td>
</tr>
<tr>
<td>10004</td>
<td>no service</td>
<td>The specified service was not found</td>
</tr>
<tr>
<td>10005</td>
<td>no characteristic</td>
<td>The specified property was not found</td>
</tr>
<tr>
<td>10006</td>
<td>no connection</td>
<td>The current connection is disconnected</td>
</tr>
<tr>
<td>10007</td>
<td>property not support</td>
<td>The current property does not support this operation</td>
</tr>
<tr>
<td>10008</td>
<td>system error</td>
<td>Exceptions reported by all other systems</td>
</tr>
<tr>
<td>10009</td>
<td>system not support</td>
<td>Only supported by Android system, system version lower than 4.3 does not support BLE</td>
</tr>
</tbody>
</table>
<p><strong>Code sample</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">getConnectedBluetoothDevices</span>({
  <span style="color:#a6e22e">success</span>(<span style="color:#a6e22e">res</span>) {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>)
  }
})
</code></pre></div><h3 id="unigetbluetoothdevicesobject">
  uni.getBluetoothDevices(OBJECT)
  <a class="anchor" href="#unigetbluetoothdevicesobject">#</a>
</h3>
<p>Get all discovered Bluetooth devices while the Bluetooth module is in effect. Includes devices that are already connected to the machine.</p>
<p><strong>Object Parameter description</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default value</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for successful interface call</td>
</tr>
<tr>
<td>fail</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for interface call failure</td>
</tr>
<tr>
<td>complete</td>
<td>function</td>
<td></td>
<td>no</td>
<td>The callback function for the end of the interface call (the call will be executed if it succeeds or fails)</td>
</tr>
</tbody>
</table>
<p><strong>success Return parameter description:</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Attribute</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">devices</td>
<td style="text-align:left">Array&lt;Object&gt;</td>
<td style="text-align:left">The list of connected devices corresponding to the UUID</td>
</tr>
</tbody>
</table>
<p><strong>res.devices structure</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Bluetooth device name, some devices may not have</td>
<td></td>
</tr>
<tr>
<td>deviceId</td>
<td>string</td>
<td>The ID used to distinguish the device</td>
<td></td>
</tr>
<tr>
<td>RSSI</td>
<td>number</td>
<td>The signal strength of the current Bluetooth device</td>
<td></td>
</tr>
<tr>
<td>advertisData</td>
<td>ArrayBuffer</td>
<td>ManufacturerData data segment in the broadcast data segment for the current Bluetooth device.</td>
<td></td>
</tr>
<tr>
<td>advertisServiceUUIDs</td>
<td>Array&lt;String&gt;</td>
<td>The ServiceUIDS data segment in the broadcast data segment of the current Bluetooth device</td>
<td></td>
</tr>
<tr>
<td>localName</td>
<td>string</td>
<td>LocalName data segment in the broadcast data segment of the current Bluetooth device</td>
<td></td>
</tr>
<tr>
<td>serviceData</td>
<td>Object</td>
<td>The ServiceData data segment in the broadcast data segment of the current Bluetooth device</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="error-4">
  Error
  <a class="anchor" href="#error-4">#</a>
</h4>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Error Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>ok</td>
<td>normal</td>
</tr>
<tr>
<td>10000</td>
<td>not init</td>
<td>The Bluetooth adapter is not initialized</td>
</tr>
<tr>
<td>10001</td>
<td>not available</td>
<td>The current Bluetooth adapter is not available</td>
</tr>
<tr>
<td>10002</td>
<td>no device</td>
<td>The specified device was not found</td>
</tr>
<tr>
<td>10003</td>
<td>connection fail</td>
<td>Connection failed</td>
</tr>
<tr>
<td>10004</td>
<td>no service</td>
<td>The specified service was not found</td>
</tr>
<tr>
<td>10005</td>
<td>no characteristic</td>
<td>The specified property was not found</td>
</tr>
<tr>
<td>10006</td>
<td>no connection</td>
<td>The current connection is disconnected</td>
</tr>
<tr>
<td>10007</td>
<td>property not support</td>
<td>The current property does not support this operation</td>
</tr>
<tr>
<td>10008</td>
<td>system error</td>
<td>Exceptions reported by all other systems</td>
</tr>
<tr>
<td>10009</td>
<td>system not support</td>
<td>Only supported by Android system, system version lower than 4.3 does not support BLE</td>
</tr>
</tbody>
</table>
<p><strong>Code sample</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// ArrayBuffer to Hex String Sample
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">ab2hex</span>(<span style="color:#a6e22e">buffer</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">hexArr</span> <span style="color:#f92672">=</span> Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">map</span>.<span style="color:#a6e22e">call</span>(
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Uint8Array</span>(<span style="color:#a6e22e">buffer</span>),
    <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">bit</span>) {
      <span style="color:#66d9ef">return</span> (<span style="color:#e6db74">&#39;00&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">bit</span>.<span style="color:#a6e22e">toString</span>(<span style="color:#ae81ff">16</span>)).<span style="color:#a6e22e">slice</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>)
    }
  )
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">hexArr</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#39;&#39;</span>)
}
<span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">getBluetoothDevices</span>({
  <span style="color:#a6e22e">success</span>(<span style="color:#a6e22e">res</span>) {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>)
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">devices</span>[<span style="color:#ae81ff">0</span>]) {
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">ab2hex</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">devices</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">advertisData</span>))
    }
  }
})
</code></pre></div><p><strong>Tips</strong></p>
<ul>
<li>The list of devices obtained by this interface is<strong>All Bluetooth devices searched while the Bluetooth module is in effect</strong>,If the Bluetooth module is not called in time after the end of the use process  uni.closeBluetoothAdapter`  release resources,There will be a call to this interface that will return the Bluetooth device that was searched in the previous Bluetooth usage flow,It may be that the device is no longer with the user and cannot connect.</li>
<li>Bluetooth devices are being searched,The name field returned by the system is generally the name of the device in the LocalName field of the broadcast packet.If the connection is established with the Bluetooth device, the name field returned by the system will be changed to <code>GattName</code> from the Bluetooth device.If you need to dynamically change the device name and display it, the <code>localName</code> field is recommended.</li>
</ul>
<h3 id="unigetbluetoothadapterstateobject">
  uni.getBluetoothAdapterState(OBJECT)
  <a class="anchor" href="#unigetbluetoothadapterstateobject">#</a>
</h3>
<p>Get the state of the native Bluetooth adapter.</p>
<p><strong>Object Parameter description</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default value</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for successful interface call</td>
</tr>
<tr>
<td>fail</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for interface call failure</td>
</tr>
<tr>
<td>complete</td>
<td>function</td>
<td></td>
<td>no</td>
<td>The callback function for the end of the interface call (the call will be executed if it succeeds or fails)</td>
</tr>
</tbody>
</table>
<p><strong>success Return parameter description:</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>discovering</td>
<td>boolean</td>
<td>Whether the device is being searched</td>
</tr>
<tr>
<td>available</td>
<td>boolean</td>
<td>Is the Bluetooth adapter available</td>
</tr>
</tbody>
</table>
<h4 id="error-5">
  Error
  <a class="anchor" href="#error-5">#</a>
</h4>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Error Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>ok</td>
<td>normal</td>
</tr>
<tr>
<td>10000</td>
<td>not init</td>
<td>The Bluetooth adapter is not initialized</td>
</tr>
<tr>
<td>10001</td>
<td>not available</td>
<td>The current Bluetooth adapter is not available</td>
</tr>
<tr>
<td>10002</td>
<td>no device</td>
<td>The specified device was not found</td>
</tr>
<tr>
<td>10003</td>
<td>connection fail</td>
<td>Connection failed</td>
</tr>
<tr>
<td>10004</td>
<td>no service</td>
<td>The specified service was not found</td>
</tr>
<tr>
<td>10005</td>
<td>no characteristic</td>
<td>The specified property was not found</td>
</tr>
<tr>
<td>10006</td>
<td>no connection</td>
<td>The current connection is disconnected</td>
</tr>
<tr>
<td>10007</td>
<td>property not support</td>
<td>The current property does not support this operation</td>
</tr>
<tr>
<td>10008</td>
<td>system error</td>
<td>Exceptions reported by all other systems</td>
</tr>
<tr>
<td>10009</td>
<td>system not support</td>
<td>Only supported by Android system, system version lower than 4.3 does not support BLE</td>
</tr>
</tbody>
</table>
<p><strong>Code sample</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">getBluetoothAdapterState</span>({
  <span style="color:#a6e22e">success</span>(<span style="color:#a6e22e">res</span>) {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>)
  }
})
</code></pre></div><h3 id="uniclosebluetoothadapterobject">
  uni.closeBluetoothAdapter(OBJECT)
  <a class="anchor" href="#uniclosebluetoothadapterobject">#</a>
</h3>
<p>Turn off the Bluetooth module.Calling this method breaks all established connections and frees system resources. Recommended after using the Bluetooth process,Call in pairs with  uni.openBluetoothAdapter`  .</p>
<p><strong>Object Parameter description</strong></p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Default value</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for successful interface call</td>
</tr>
<tr>
<td>fail</td>
<td>function</td>
<td></td>
<td>no</td>
<td>Callback function for interface call failure</td>
</tr>
<tr>
<td>complete</td>
<td>function</td>
<td></td>
<td>no</td>
<td>The callback function for the end of the interface call (the call will be executed if it succeeds or fails)</td>
</tr>
</tbody>
</table>
<h4 id="error-6">
  Error
  <a class="anchor" href="#error-6">#</a>
</h4>
<table>
<thead>
<tr>
<th>Error Code</th>
<th>Error Message</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>ok</td>
<td>normal</td>
</tr>
<tr>
<td>10000</td>
<td>not init</td>
<td>The Bluetooth adapter is not initialized</td>
</tr>
<tr>
<td>10001</td>
<td>not available</td>
<td>The current Bluetooth adapter is not available</td>
</tr>
<tr>
<td>10002</td>
<td>no device</td>
<td>The specified device was not found</td>
</tr>
<tr>
<td>10003</td>
<td>connection fail</td>
<td>Connection failed</td>
</tr>
<tr>
<td>10004</td>
<td>no service</td>
<td>The specified service was not found</td>
</tr>
<tr>
<td>10005</td>
<td>no characteristic</td>
<td>The specified property was not found</td>
</tr>
<tr>
<td>10006</td>
<td>no connection</td>
<td>The current connection is disconnected</td>
</tr>
<tr>
<td>10007</td>
<td>property not support</td>
<td>The current property does not support this operation</td>
</tr>
<tr>
<td>10008</td>
<td>system error</td>
<td>Exceptions reported by all other systems</td>
</tr>
<tr>
<td>10009</td>
<td>system not support</td>
<td>Only supported by Android system, system version lower than 4.3 does not support BLE</td>
</tr>
</tbody>
</table>
<p><strong>Code sample</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">uni</span>.<span style="color:#a6e22e">closeBluetoothAdapter</span>({
  <span style="color:#a6e22e">success</span>(<span style="color:#a6e22e">res</span>) {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>)
  }
})
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#uniopenbluetoothadapterobject">uni.openBluetoothAdapter(OBJECT)</a></li>
            <li><a href="#unistartbluetoothdevicesdiscoveryobject">uni.startBluetoothDevicesDiscovery(OBJECT)</a></li>
            <li><a href="#unionbluetoothdevicefoundcallback">uni.onBluetoothDeviceFound(CALLBACK)</a></li>
            <li><a href="#unistopbluetoothdevicesdiscoveryobject">uni.stopBluetoothDevicesDiscovery(OBJECT)</a></li>
            <li><a href="#unionbluetoothadapterstatechangecallback">uni.onBluetoothAdapterStateChange(CALLBACK)</a></li>
            <li><a href="#unigetconnectedbluetoothdevicesobject">uni.getConnectedBluetoothDevices(OBJECT)</a></li>
            <li><a href="#unigetbluetoothdevicesobject">uni.getBluetoothDevices(OBJECT)</a></li>
            <li><a href="#unigetbluetoothadapterstateobject">uni.getBluetoothAdapterState(OBJECT)</a></li>
            <li><a href="#uniclosebluetoothadapterobject">uni.closeBluetoothAdapter(OBJECT)</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












